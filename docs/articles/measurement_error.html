<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sensitivity Analysis for Measurement Error • CMAverse</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Sensitivity Analysis for Measurement Error">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CMAverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li>
  <a href="../articles/overview.html">Overview of Modeling Approaches</a>
</li>
<li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Examples

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/single_mediator.html">Statistical Modeling with a Single Mediator</a>
    </li>
    <li>
      <a href="../articles/case_control.html">Statistical Modeling for a Case Control Study</a>
    </li>
    <li>
      <a href="../articles/multiple_imputation.html">Statistical Modeling with Missing Data</a>
    </li>
    <li>
      <a href="../articles/post_exposure_confounding.html">Statistical Modeling with Post-exposure Confounding</a>
    </li>
    <li>
      <a href="../articles/measurement_error.html">Sensitivity Analysis for Measurement Error</a>
    </li>
    <li>
      <a href="../articles/time_to_event_mediator.html">Statistical Modeling with Time-to-event Mediators and Competing Risks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>

    Functions
  </a>
</li>
<li>
  <a href="https://github.com/XiaoniXu/CMAverse/" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Sensitivity Analysis for Measurement Error</h1>
            
            <h4 data-toc-skip class="date">2025-12-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/XiaoniXu/CMAverse/blob/HEAD/vignettes/measurement_error.Rmd" class="external-link"><code>vignettes/measurement_error.Rmd</code></a></small>
      <div class="hidden name"><code>measurement_error.Rmd</code></div>

    </div>

    
    
<p>This example demonstrates how to conduct sensitivity analysis for
measurement error by using <code>cmsens</code>. For this purpose, we
simulate some data containing a continuous baseline confounder
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mn>1</mn></msub><annotation encoding="application/x-tex">C_1</annotation></semantics></math>,
a binary baseline confounder
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mn>2</mn></msub><annotation encoding="application/x-tex">C_2</annotation></semantics></math>,
a binary exposure
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>,
a binary mediator
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
and a binary outcome
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.
The true regression models for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
are:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo stretchy="false" form="prefix">|</mo><msub><mi>C</mi><mn>1</mn></msub><mo>,</mo><msub><mi>C</mi><mn>2</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0.2</mn><mo>+</mo><mn>0.5</mn><msub><mi>C</mi><mn>1</mn></msub><mo>+</mo><mn>0.1</mn><msub><mi>C</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">logit(E(A|C_1,C_2))=0.2+0.5C_1+0.1C_2</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><msub><mi>C</mi><mn>1</mn></msub><mo>,</mo><msub><mi>C</mi><mn>2</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>1</mn><mo>+</mo><mn>2</mn><mi>A</mi><mo>+</mo><mn>1.5</mn><msub><mi>C</mi><mn>1</mn></msub><mo>+</mo><mn>0.8</mn><msub><mi>C</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">logit(E(M|A,C_1,C_2))=1+2A+1.5C_1+0.8C_2</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><msub><mi>C</mi><mn>1</mn></msub><mo>,</mo><msub><mi>C</mi><mn>2</mn></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">)</mo><mo>=</mo><mi>−</mi><mn>3</mn><mo>−</mo><mn>0.4</mn><mi>A</mi><mo>−</mo><mn>1.2</mn><mi>M</mi><mo>+</mo><mn>0.5</mn><mi>A</mi><mi>M</mi><mo>+</mo><mn>0.3</mn><msub><mi>C</mi><mn>1</mn></msub><mo>−</mo><mn>0.6</mn><msub><mi>C</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">logit(E(Y|A,M,C_1,C_2)))=-3-0.4A-1.2M+0.5AM+0.3C_1-0.6C_2</annotation></semantics></math></p>
<p>Then, we generate some measurement errors for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mn>1</mn></msub><annotation encoding="application/x-tex">C_1</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">expit</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">10000</span></span>
<span><span class="va">C1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span><span class="va">C1_error</span> <span class="op">&lt;-</span> <span class="va">C1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">0</span>, <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="va">C2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1</span>, <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1</span>, <span class="fu">expit</span><span class="op">(</span><span class="fl">0.2</span> <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span><span class="va">C1</span> <span class="op">+</span> <span class="fl">0.1</span><span class="op">*</span><span class="va">C2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.9</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.9</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">A_error</span> <span class="op">&lt;-</span> <span class="va">A</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">A_error</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">A_error</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="va">j</span><span class="op">]</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">A_error</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="va">j</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>           prob <span class="op">=</span> <span class="va">mc</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1</span>, <span class="fu">expit</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fl">2</span><span class="op">*</span><span class="va">A</span> <span class="op">+</span> <span class="fl">1.5</span><span class="op">*</span><span class="va">C1</span> <span class="op">+</span> <span class="fl">0.8</span><span class="op">*</span><span class="va">C2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1</span>, <span class="fu">expit</span><span class="op">(</span><span class="op">-</span><span class="fl">3</span> <span class="op">-</span> <span class="fl">0.4</span><span class="op">*</span><span class="va">A</span> <span class="op">-</span> <span class="fl">1.2</span><span class="op">*</span><span class="va">M</span> <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span><span class="va">A</span><span class="op">*</span><span class="va">M</span> <span class="op">+</span> <span class="fl">0.3</span><span class="op">*</span><span class="va">C1</span> <span class="op">-</span> <span class="fl">0.6</span><span class="op">*</span><span class="va">C2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">A</span>, <span class="va">A_error</span>, <span class="va">M</span>, <span class="va">Y</span>, <span class="va">C1</span>, <span class="va">C1_error</span>, <span class="va">C2</span><span class="op">)</span></span></code></pre></div>
<p>The DAG for this scientific setting is:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://xiaonixu.github.io/CMAverse/">CMAverse</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/cmdag.html">cmdag</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"Y"</span>, exposure <span class="op">=</span> <span class="st">"A"</span>, mediator <span class="op">=</span> <span class="st">"M"</span>,</span>
<span>      basec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C1"</span>, <span class="st">"C2"</span><span class="op">)</span>, postc <span class="op">=</span> <span class="cn">NULL</span>, node <span class="op">=</span> <span class="cn">TRUE</span>, text_col <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span></code></pre></div>
<p><img src="measurement_error_files/figure-html/unnamed-chunk-2-1.png" class="r-plt" width="700"></p>
<div class="section level2">
<h2 id="a-continuous-variable-measured-with-error">A Continuous Variable Measured with Error<a class="anchor" aria-label="anchor" href="#a-continuous-variable-measured-with-error"></a>
</h2>
<p>Firstly, we assume
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">C1</annotation></semantics></math>
was measured with error.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mn>1</mn></msub><annotation encoding="application/x-tex">C_1</annotation></semantics></math>
is continuous, so the measurement error can be corrected by regression
calibration or SIMEX. We use the regression-based approach for
illustration. The naive results obtained by fitting data with
measurement error:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_naive_cont</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cmest.html">cmest</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, model <span class="op">=</span> <span class="st">"rb"</span>, outcome <span class="op">=</span> <span class="st">"Y"</span>, exposure <span class="op">=</span> <span class="st">"A"</span>,</span>
<span>                        mediator <span class="op">=</span> <span class="st">"M"</span>, basec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C1_error"</span>, <span class="st">"C2"</span><span class="op">)</span>, EMint <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                        mreg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"logistic"</span><span class="op">)</span>, yreg <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>                        astar <span class="op">=</span> <span class="fl">0</span>, a <span class="op">=</span> <span class="fl">1</span>, mval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>, </span>
<span>                        estimation <span class="op">=</span> <span class="st">"paramfunc"</span>, inference <span class="op">=</span> <span class="st">"delta"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_naive_cont</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Causal Mediation Analysis</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Outcome regression:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## glm(formula = Y ~ A + M + A * M + C1_error + C2, family = binomial(), </span></span>
<span><span class="co">##     data = getCall(x$reg.output$yreg)$data, weights = getCall(x$reg.output$yreg)$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">## (Intercept)  -2.5688     0.2608  -9.852  &lt; 2e-16 ***</span></span>
<span><span class="co">## A            -0.8882     0.7581  -1.172  0.24139    </span></span>
<span><span class="co">## M            -1.8387     0.2858  -6.434 1.24e-10 ***</span></span>
<span><span class="co">## C1_error      0.4856     0.1481   3.280  0.00104 ** </span></span>
<span><span class="co">## C2           -0.6142     0.1500  -4.094 4.24e-05 ***</span></span>
<span><span class="co">## A:M           1.1063     0.7790   1.420  0.15555    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Null deviance: 1858.7  on 9999  degrees of freedom</span></span>
<span><span class="co">## Residual deviance: 1799.6  on 9994  degrees of freedom</span></span>
<span><span class="co">## AIC: 1811.6</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Mediator regressions: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## glm(formula = M ~ A + C1_error + C2, family = binomial(), data = getCall(x$reg.output$mreg[[1L]])$data, </span></span>
<span><span class="co">##     weights = getCall(x$reg.output$mreg[[1L]])$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">## (Intercept)   0.9916     0.1160   8.552  &lt; 2e-16 ***</span></span>
<span><span class="co">## A             2.1481     0.1473  14.586  &lt; 2e-16 ***</span></span>
<span><span class="co">## C1_error      1.4448     0.1193  12.109  &lt; 2e-16 ***</span></span>
<span><span class="co">## C2            0.6769     0.1193   5.673  1.4e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Null deviance: 2825.7  on 9999  degrees of freedom</span></span>
<span><span class="co">## Residual deviance: 2306.7  on 9996  degrees of freedom</span></span>
<span><span class="co">## AIC: 2314.7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Effect decomposition on the odds ratio scale via the regression-based approach</span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## Closed-form parameter function estimation with </span></span>
<span><span class="co">##  delta method standard errors, confidence intervals and p-values </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">##                 Estimate Std.error   95% CIL 95% CIU    P.val    </span></span>
<span><span class="co">## Rcde             1.24383   0.22304   0.87524   1.768 0.223674    </span></span>
<span><span class="co">## Rpnde            1.01905   0.17645   0.72578   1.431 0.913235    </span></span>
<span><span class="co">## Rtnde            1.20938   0.21034   0.86004   1.701 0.274370    </span></span>
<span><span class="co">## Rpnie            0.80077   0.05414   0.70138   0.914 0.001017 ** </span></span>
<span><span class="co">## Rtnie            0.95034   0.06599   0.82942   1.089 0.463197    </span></span>
<span><span class="co">## Rte              0.96844   0.15560   0.70683   1.327 0.841789    </span></span>
<span><span class="co">## ERcde            0.18846   0.16640  -0.13769   0.515 0.257410    </span></span>
<span><span class="co">## ERintref        -0.16941   0.09996  -0.36533   0.027 0.090128 .  </span></span>
<span><span class="co">## ERintmed         0.14862   0.08786  -0.02358   0.321 0.090726 .  </span></span>
<span><span class="co">## ERpnie          -0.19923   0.05414  -0.30535  -0.093 0.000234 ***</span></span>
<span><span class="co">## ERcde(prop)     -5.97114  34.38901 -73.37236  61.430 0.862152    </span></span>
<span><span class="co">## ERintref(prop)   5.36768  26.42572 -46.42577  57.161 0.839039    </span></span>
<span><span class="co">## ERintmed(prop)  -4.70891  23.17884 -50.13861  40.721 0.839013    </span></span>
<span><span class="co">## ERpnie(prop)     6.31237  31.15632 -54.75290  67.378 0.839445    </span></span>
<span><span class="co">## pm               1.60346   8.40147 -14.86311  18.070 0.848639    </span></span>
<span><span class="co">## int              0.65876   3.24847  -5.70811   7.026 0.839298    </span></span>
<span><span class="co">## pe               6.97114  34.38901 -60.43008  74.372 0.839359    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Rcde: controlled direct effect odds ratio; Rpnde: pure natural direct effect odds ratio; Rtnde: total natural direct effect odds ratio; Rpnie: pure natural indirect effect odds ratio; Rtnie: total natural indirect effect odds ratio; Rte: total effect odds ratio; ERcde: excess relative risk due to controlled direct effect; ERintref: excess relative risk due to reference interaction; ERintmed: excess relative risk due to mediated interaction; ERpnie: excess relative risk due to pure natural indirect effect; ERcde(prop): proportion ERcde; ERintref(prop): proportion ERintref; ERintmed(prop): proportion ERintmed; ERpnie(prop): proportion ERpnie; pm: overall proportion mediated; int: overall proportion attributable to interaction; pe: overall proportion eliminated)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Relevant variable values: </span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $astar</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $yval</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mval</span></span>
<span><span class="co">## $mval[[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval</span></span>
<span><span class="co">## $basecval[[1]]</span></span>
<span><span class="co">## [1] 0.996522</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval[[2]]</span></span>
<span><span class="co">## [1] 0.5936</span></span></code></pre>
<p>The results corrected by regression calibration:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_rc_cont</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cmsens.html">cmsens</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">res_naive_cont</span>, sens <span class="op">=</span> <span class="st">"me"</span>, MEmethod <span class="op">=</span> <span class="st">"rc"</span>, </span>
<span>                      MEvariable <span class="op">=</span> <span class="st">"C1_error"</span>, MEvartype <span class="op">=</span> <span class="st">"con"</span>, MEerror <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_rc_cont</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Sensitivity Analysis For Measurement Error </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## The variable measured with error: C1_error</span></span>
<span><span class="co">## Type of the variable measured with error: continuous</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Measurement error 1: </span></span>
<span><span class="co">## [1] 0.05</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ## Error-corrected regressions for measurement error 1: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ### Outcome regression:</span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## rcreg(reg = getCall(x$sens[[1L]]$reg.output$yreg)$reg, formula = Y ~ </span></span>
<span><span class="co">##     A + M + A * M + C1_error + C2, data = getCall(x$sens[[1L]]$reg.output$yreg)$data, </span></span>
<span><span class="co">##     MEvariable = "C1_error", MEerror = 0.05, variance = TRUE, </span></span>
<span><span class="co">##     nboot = 400, weights = getCall(x$sens[[1L]]$reg.output$yreg)$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive coefficient estimates: </span></span>
<span><span class="co">## (Intercept)           A           M    C1_error          C2         A:M </span></span>
<span><span class="co">##  -2.5688363  -0.8881518  -1.8387439   0.4856104  -0.6142071   1.1063464 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive var-cov estimates: </span></span>
<span><span class="co">##              (Intercept)             A            M      C1_error            C2</span></span>
<span><span class="co">## (Intercept)  0.067990581 -0.0545603114 -0.048204212 -0.0154891419 -0.0071194416</span></span>
<span><span class="co">## A           -0.054560311  0.5747507824  0.054868704 -0.0004875592  0.0004879114</span></span>
<span><span class="co">## M           -0.048204212  0.0548687045  0.081668670 -0.0080216586 -0.0027107101</span></span>
<span><span class="co">## C1_error    -0.015489142 -0.0004875592 -0.008021659  0.0219233192 -0.0001013951</span></span>
<span><span class="co">## C2          -0.007119442  0.0004879114 -0.002710710 -0.0001013951  0.0225065272</span></span>
<span><span class="co">## A:M          0.055848645 -0.5747208888 -0.077864595 -0.0011835634 -0.0008171310</span></span>
<span><span class="co">##                      A:M</span></span>
<span><span class="co">## (Intercept)  0.055848645</span></span>
<span><span class="co">## A           -0.574720889</span></span>
<span><span class="co">## M           -0.077864595</span></span>
<span><span class="co">## C1_error    -0.001183563</span></span>
<span><span class="co">## C2          -0.000817131</span></span>
<span><span class="co">## A:M          0.606845225</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variable measured with error:</span></span>
<span><span class="co">## C1_error</span></span>
<span><span class="co">## Measurement error:</span></span>
<span><span class="co">## 0.05</span></span>
<span><span class="co">## Error-corrected results:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept)  -2.5717     0.2541 -10.121  &lt; 2e-16 ***</span></span>
<span><span class="co">## A            -0.8886     4.4879  -0.198 0.843055    </span></span>
<span><span class="co">## M            -1.8405     0.2816  -6.536 6.63e-11 ***</span></span>
<span><span class="co">## C1_error      0.4905     0.1456   3.370 0.000755 ***</span></span>
<span><span class="co">## C2           -0.6142     0.1491  -4.119 3.84e-05 ***</span></span>
<span><span class="co">## A:M           1.1063     4.5003   0.246 0.805812    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ### Mediator regressions: </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## rcreg(reg = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$reg, </span></span>
<span><span class="co">##     formula = M ~ A + C1_error + C2, data = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$data, </span></span>
<span><span class="co">##     MEvariable = "C1_error", MEerror = 0.05, variance = TRUE, </span></span>
<span><span class="co">##     nboot = 400, weights = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive coefficient estimates: </span></span>
<span><span class="co">## (Intercept)           A    C1_error          C2 </span></span>
<span><span class="co">##   0.9915629   2.1481051   1.4448263   0.6769050 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive var-cov estimates: </span></span>
<span><span class="co">##              (Intercept)             A      C1_error            C2</span></span>
<span><span class="co">## (Intercept)  0.013444822 -0.0040002083 -0.0092978270 -0.0070380421</span></span>
<span><span class="co">## A           -0.004000208  0.0216896845 -0.0008364503  0.0002395075</span></span>
<span><span class="co">## C1_error    -0.009297827 -0.0008364503  0.0142375505  0.0008566472</span></span>
<span><span class="co">## C2          -0.007038042  0.0002395075  0.0008566472  0.0142371683</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variable measured with error:</span></span>
<span><span class="co">## C1_error</span></span>
<span><span class="co">## Measurement error:</span></span>
<span><span class="co">## 0.05</span></span>
<span><span class="co">## Error-corrected results:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept)   0.9784     0.1210   8.083 7.05e-16 ***</span></span>
<span><span class="co">## A             2.1465     0.1509  14.224  &lt; 2e-16 ***</span></span>
<span><span class="co">## C1_error      1.4591     0.1274  11.455  &lt; 2e-16 ***</span></span>
<span><span class="co">## C2            0.6769     0.1212   5.584 2.41e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ## Error-corrected causal effects on the risk ratio scale for measurement error 1: </span></span>
<span><span class="co">##                 Estimate Std.error   95% CIL 95% CIU    P.val    </span></span>
<span><span class="co">## Rcde             1.24332   0.21846   0.88109   1.754 0.215167    </span></span>
<span><span class="co">## Rpnde            1.01851   0.51592   0.37739   2.749 0.971122    </span></span>
<span><span class="co">## Rtnde            1.20880   0.21548   0.85236   1.714 0.287421    </span></span>
<span><span class="co">## Rpnie            0.80064   0.05377   0.70190   0.913 0.000930 ***</span></span>
<span><span class="co">## Rtnie            0.95024   0.40371   0.41323   2.185 0.904366    </span></span>
<span><span class="co">## Rte              0.96782   0.15998   0.69999   1.338 0.843146    </span></span>
<span><span class="co">## ERcde            0.18801   0.16238  -0.13024   0.506 0.246916    </span></span>
<span><span class="co">## ERintref        -0.16951   0.50413  -1.15757   0.819 0.736693    </span></span>
<span><span class="co">## ERintmed         0.14867   0.44220  -0.71803   1.015 0.736716    </span></span>
<span><span class="co">## ERpnie          -0.19936   0.05377  -0.30474  -0.094 0.000209 ***</span></span>
<span><span class="co">## ERcde(prop)     -5.84268  33.43624 -71.37651  59.691 0.861283    </span></span>
<span><span class="co">## ERintref(prop)   5.26756  25.23855 -44.19909  54.734 0.834674    </span></span>
<span><span class="co">## ERintmed(prop)  -4.62011  22.13161 -47.99727  38.757 0.834639    </span></span>
<span><span class="co">## ERpnie(prop)     6.19523  30.84112 -54.25226  66.643 0.840796    </span></span>
<span><span class="co">## pm               1.57512  17.94002 -33.58666  36.737 0.930036    </span></span>
<span><span class="co">## int              0.64746   3.10862  -5.44532   6.740 0.835012    </span></span>
<span><span class="co">## pe               6.84268  33.43624 -58.69114  72.377 0.837847    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## ----------------------------------------------------------------</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Rcde: controlled direct effect risk ratio; Rpnde: pure natural direct effect risk ratio; Rtnde: total natural direct effect risk ratio; Rpnie: pure natural indirect effect risk ratio; Rtnie: total natural indirect effect risk ratio; Rte: total effect risk ratio; ERcde: excess relative risk due to controlled direct effect; ERintref: excess relative risk due to reference interaction; ERintmed: excess relative risk due to mediated interaction; ERpnie: excess relative risk due to pure natural indirect effect; ERcde(prop): proportion ERcde; ERintref(prop): proportion ERintref; ERintmed(prop): proportion ERintmed; ERpnie(prop): proportion ERpnie; pm: overall proportion mediated; int: overall proportion attributable to interaction; pe: overall proportion eliminated)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Relevant variable values: </span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $astar</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $yval</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mval</span></span>
<span><span class="co">## $mval[[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval</span></span>
<span><span class="co">## $basecval[[1]]</span></span>
<span><span class="co">## [1] 0.996522</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval[[2]]</span></span>
<span><span class="co">## [1] 0.5936</span></span></code></pre>
<p>The results corrected by SIMEX:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_simex_cont</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cmsens.html">cmsens</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">res_naive_cont</span>, sens <span class="op">=</span> <span class="st">"me"</span>, MEmethod <span class="op">=</span> <span class="st">"simex"</span>, </span>
<span>                         MEvariable <span class="op">=</span> <span class="st">"C1_error"</span>, MEvartype <span class="op">=</span> <span class="st">"con"</span>, MEerror <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_simex_cont</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Sensitivity Analysis For Measurement Error </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## The variable measured with error: C1_error</span></span>
<span><span class="co">## Type of the variable measured with error: continuous</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Measurement error 1: </span></span>
<span><span class="co">## [1] 0.05</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ## Error-corrected regressions for measurement error 1: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ### Outcome regression:</span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## simexreg(reg = getCall(x$sens[[1L]]$reg.output$yreg)$reg, formula = Y ~ </span></span>
<span><span class="co">##     A + M + A * M + C1_error + C2, data = getCall(x$sens[[1L]]$reg.output$yreg)$data, </span></span>
<span><span class="co">##     MEvariable = "C1_error", MEvartype = "continuous", MEerror = 0.05, </span></span>
<span><span class="co">##     variance = TRUE, lambda = c(0.5, 1, 1.5, 2), B = 200, weights = getCall(x$sens[[1L]]$reg.output$yreg)$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive coefficient estimates: </span></span>
<span><span class="co">## (Intercept)           A           M    C1_error          C2         A:M </span></span>
<span><span class="co">##  -2.5688363  -0.8881518  -1.8387439   0.4856104  -0.6142071   1.1063464 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive var-cov estimates: </span></span>
<span><span class="co">##              (Intercept)             A            M      C1_error            C2</span></span>
<span><span class="co">## (Intercept)  0.067990581 -0.0545603114 -0.048204212 -0.0154891419 -0.0071194416</span></span>
<span><span class="co">## A           -0.054560311  0.5747507824  0.054868704 -0.0004875592  0.0004879114</span></span>
<span><span class="co">## M           -0.048204212  0.0548687045  0.081668670 -0.0080216586 -0.0027107101</span></span>
<span><span class="co">## C1_error    -0.015489142 -0.0004875592 -0.008021659  0.0219233192 -0.0001013951</span></span>
<span><span class="co">## C2          -0.007119442  0.0004879114 -0.002710710 -0.0001013951  0.0225065272</span></span>
<span><span class="co">## A:M          0.055848645 -0.5747208888 -0.077864595 -0.0011835634 -0.0008171310</span></span>
<span><span class="co">##                      A:M</span></span>
<span><span class="co">## (Intercept)  0.055848645</span></span>
<span><span class="co">## A           -0.574720889</span></span>
<span><span class="co">## M           -0.077864595</span></span>
<span><span class="co">## C1_error    -0.001183563</span></span>
<span><span class="co">## C2          -0.000817131</span></span>
<span><span class="co">## A:M          0.606845225</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variable measured with error:</span></span>
<span><span class="co">## C1_error</span></span>
<span><span class="co">## Measurement error:</span></span>
<span><span class="co">## [1] 0.05</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Error-corrected results:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept)  -2.5715     0.2613  -9.843  &lt; 2e-16 ***</span></span>
<span><span class="co">## A            -0.8870     0.7581  -1.170  0.24201    </span></span>
<span><span class="co">## M            -1.8401     0.2859  -6.436 1.28e-10 ***</span></span>
<span><span class="co">## C1_error      0.4898     0.1499   3.268  0.00109 ** </span></span>
<span><span class="co">## C2           -0.6143     0.1500  -4.095 4.26e-05 ***</span></span>
<span><span class="co">## A:M           1.1049     0.7790   1.418  0.15613    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ### Mediator regressions: </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## simexreg(reg = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$reg, </span></span>
<span><span class="co">##     formula = M ~ A + C1_error + C2, data = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$data, </span></span>
<span><span class="co">##     MEvariable = "C1_error", MEvartype = "continuous", MEerror = 0.05, </span></span>
<span><span class="co">##     variance = TRUE, lambda = c(0.5, 1, 1.5, 2), B = 200, weights = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive coefficient estimates: </span></span>
<span><span class="co">## (Intercept)           A    C1_error          C2 </span></span>
<span><span class="co">##   0.9915629   2.1481051   1.4448263   0.6769050 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive var-cov estimates: </span></span>
<span><span class="co">##              (Intercept)             A      C1_error            C2</span></span>
<span><span class="co">## (Intercept)  0.013444822 -0.0040002083 -0.0092978270 -0.0070380421</span></span>
<span><span class="co">## A           -0.004000208  0.0216896845 -0.0008364503  0.0002395075</span></span>
<span><span class="co">## C1_error    -0.009297827 -0.0008364503  0.0142375505  0.0008566472</span></span>
<span><span class="co">## C2          -0.007038042  0.0002395075  0.0008566472  0.0142371683</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variable measured with error:</span></span>
<span><span class="co">## C1_error</span></span>
<span><span class="co">## Measurement error:</span></span>
<span><span class="co">## [1] 0.05</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Error-corrected results:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept)   0.9834     0.1165   8.440  &lt; 2e-16 ***</span></span>
<span><span class="co">## A             2.1467     0.1473  14.575  &lt; 2e-16 ***</span></span>
<span><span class="co">## C1_error      1.4546     0.1204  12.082  &lt; 2e-16 ***</span></span>
<span><span class="co">## C2            0.6775     0.1194   5.676 1.42e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ## Error-corrected causal effects on the risk ratio scale for measurement error 1: </span></span>
<span><span class="co">##                 Estimate Std.error   95% CIL 95% CIU    P.val    </span></span>
<span><span class="co">## Rcde             1.24337   0.22297   0.87489   1.767 0.224502    </span></span>
<span><span class="co">## Rpnde            1.01892   0.17649   0.72561   1.431 0.913818    </span></span>
<span><span class="co">## Rtnde            1.20893   0.21027   0.85970   1.700 0.275351    </span></span>
<span><span class="co">## Rpnie            0.80084   0.05415   0.70145   0.914 0.001020 ** </span></span>
<span><span class="co">## Rtnie            0.95018   0.06602   0.82920   1.089 0.462032    </span></span>
<span><span class="co">## Rte              0.96816   0.15561   0.70654   1.327 0.840428    </span></span>
<span><span class="co">## ERcde            0.18811   0.16638  -0.13799   0.514 0.258225    </span></span>
<span><span class="co">## ERintref        -0.16918   0.10000  -0.36518   0.027 0.090673 .  </span></span>
<span><span class="co">## ERintmed         0.14839   0.08787  -0.02384   0.321 0.091273 .  </span></span>
<span><span class="co">## ERpnie          -0.19916   0.05415  -0.30529  -0.093 0.000235 ***</span></span>
<span><span class="co">## ERcde(prop)     -5.90716  33.77332 -72.10165  60.287 0.861154    </span></span>
<span><span class="co">## ERintref(prop)   5.31293  25.92647 -45.50202  56.128 0.837632    </span></span>
<span><span class="co">## ERintmed(prop)  -4.66005  22.73684 -49.22344  39.903 0.837606    </span></span>
<span><span class="co">## ERpnie(prop)     6.25428  30.59793 -53.71657  66.225 0.838039    </span></span>
<span><span class="co">## pm               1.59422   8.28464 -14.64336  17.832 0.847404    </span></span>
<span><span class="co">## int              0.65288   3.19122  -5.60181   6.908 0.837896    </span></span>
<span><span class="co">## pe               6.90716  33.77332 -59.28734  73.102 0.837951    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## ----------------------------------------------------------------</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Rcde: controlled direct effect risk ratio; Rpnde: pure natural direct effect risk ratio; Rtnde: total natural direct effect risk ratio; Rpnie: pure natural indirect effect risk ratio; Rtnie: total natural indirect effect risk ratio; Rte: total effect risk ratio; ERcde: excess relative risk due to controlled direct effect; ERintref: excess relative risk due to reference interaction; ERintmed: excess relative risk due to mediated interaction; ERpnie: excess relative risk due to pure natural indirect effect; ERcde(prop): proportion ERcde; ERintref(prop): proportion ERintref; ERintmed(prop): proportion ERintmed; ERpnie(prop): proportion ERpnie; pm: overall proportion mediated; int: overall proportion attributable to interaction; pe: overall proportion eliminated)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Relevant variable values: </span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $astar</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $yval</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mval</span></span>
<span><span class="co">## $mval[[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval</span></span>
<span><span class="co">## $basecval[[1]]</span></span>
<span><span class="co">## [1] 0.996522</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval[[2]]</span></span>
<span><span class="co">## [1] 0.5936</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="a-categorical-variable-measured-with-error">A Categorical Variable Measured with Error<a class="anchor" aria-label="anchor" href="#a-categorical-variable-measured-with-error"></a>
</h2>
<p>Then, we assume
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
was measured with error.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
is categorical, so only SIMEX can be used. The naive results obtained by
fitting data with measurement error:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_naive_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cmest.html">cmest</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, model <span class="op">=</span> <span class="st">"rb"</span>, outcome <span class="op">=</span> <span class="st">"Y"</span>, exposure <span class="op">=</span> <span class="st">"A_error"</span>,</span>
<span>                       mediator <span class="op">=</span> <span class="st">"M"</span>, basec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C1"</span>, <span class="st">"C2"</span><span class="op">)</span>, EMint <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       mreg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"logistic"</span><span class="op">)</span>, yreg <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>                       astar <span class="op">=</span> <span class="fl">0</span>, a <span class="op">=</span> <span class="fl">1</span>, mval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>, </span>
<span>                       estimation <span class="op">=</span> <span class="st">"paramfunc"</span>, inference <span class="op">=</span> <span class="st">"delta"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_naive_cat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Causal Mediation Analysis</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Outcome regression:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## glm(formula = Y ~ A_error + M + A_error * M + C1 + C2, family = binomial(), </span></span>
<span><span class="co">##     data = getCall(x$reg.output$yreg)$data, weights = getCall(x$reg.output$yreg)$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">## (Intercept)  -2.5907     0.2727  -9.500  &lt; 2e-16 ***</span></span>
<span><span class="co">## A_error      -0.5077     0.5703  -0.890 0.373318    </span></span>
<span><span class="co">## M            -1.7375     0.2882  -6.029 1.65e-09 ***</span></span>
<span><span class="co">## C1            0.5037     0.1487   3.386 0.000709 ***</span></span>
<span><span class="co">## C2           -0.6133     0.1500  -4.089 4.34e-05 ***</span></span>
<span><span class="co">## A_error:M     0.5931     0.5945   0.998 0.318446    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Null deviance: 1858.7  on 9999  degrees of freedom</span></span>
<span><span class="co">## Residual deviance: 1801.3  on 9994  degrees of freedom</span></span>
<span><span class="co">## AIC: 1813.3</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Mediator regressions: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## glm(formula = M ~ A_error + C1 + C2, family = binomial(), data = getCall(x$reg.output$mreg[[1L]])$data, </span></span>
<span><span class="co">##     weights = getCall(x$reg.output$mreg[[1L]])$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">## (Intercept)   1.1369     0.1164   9.769  &lt; 2e-16 ***</span></span>
<span><span class="co">## A_error       1.5434     0.1310  11.783  &lt; 2e-16 ***</span></span>
<span><span class="co">## C1            1.5322     0.1190  12.879  &lt; 2e-16 ***</span></span>
<span><span class="co">## C2            0.6753     0.1181   5.718 1.08e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Null deviance: 2825.7  on 9999  degrees of freedom</span></span>
<span><span class="co">## Residual deviance: 2428.4  on 9996  degrees of freedom</span></span>
<span><span class="co">## AIC: 2436.4</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Effect decomposition on the odds ratio scale via the regression-based approach</span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## Closed-form parameter function estimation with </span></span>
<span><span class="co">##  delta method standard errors, confidence intervals and p-values </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">##                Estimate Std.error  95% CIL 95% CIU    P.val    </span></span>
<span><span class="co">## Rcde            1.08912   0.18279  0.78381   1.513 0.611003    </span></span>
<span><span class="co">## Rpnde           0.98700   0.15917  0.71952   1.354 0.935309    </span></span>
<span><span class="co">## Rtnde           1.06299   0.17173  0.77449   1.459 0.705322    </span></span>
<span><span class="co">## Rpnie           0.86553   0.04070  0.78932   0.949 0.002133 ** </span></span>
<span><span class="co">## Rtnie           0.93218   0.04836  0.84205   1.032 0.175816    </span></span>
<span><span class="co">## Rte             0.92005   0.14238  0.67934   1.246 0.590294    </span></span>
<span><span class="co">## ERcde           0.07373   0.14960 -0.21949   0.367 0.622139    </span></span>
<span><span class="co">## ERintref       -0.08673   0.08188 -0.24722   0.074 0.289503    </span></span>
<span><span class="co">## ERintmed        0.06753   0.06388 -0.05767   0.193 0.290433    </span></span>
<span><span class="co">## ERpnie         -0.13447   0.04070 -0.21424  -0.055 0.000954 ***</span></span>
<span><span class="co">## ERcde(prop)    -0.92222   3.45691 -7.69764   5.853 0.789642    </span></span>
<span><span class="co">## ERintref(prop)  1.08489   2.06437 -2.96120   5.131 0.599215    </span></span>
<span><span class="co">## ERintmed(prop) -0.84468   1.60658 -3.99352   2.304 0.599050    </span></span>
<span><span class="co">## ERpnie(prop)    1.68201   3.03652 -4.26946   7.633 0.579628    </span></span>
<span><span class="co">## pm              0.83733   1.71924 -2.53231   4.207 0.626232    </span></span>
<span><span class="co">## int             0.24020   0.45912 -0.65966   1.140 0.600849    </span></span>
<span><span class="co">## pe              1.92222   3.45691 -4.85321   8.698 0.578176    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Rcde: controlled direct effect odds ratio; Rpnde: pure natural direct effect odds ratio; Rtnde: total natural direct effect odds ratio; Rpnie: pure natural indirect effect odds ratio; Rtnie: total natural indirect effect odds ratio; Rte: total effect odds ratio; ERcde: excess relative risk due to controlled direct effect; ERintref: excess relative risk due to reference interaction; ERintmed: excess relative risk due to mediated interaction; ERpnie: excess relative risk due to pure natural indirect effect; ERcde(prop): proportion ERcde; ERintref(prop): proportion ERintref; ERintmed(prop): proportion ERintmed; ERpnie(prop): proportion ERpnie; pm: overall proportion mediated; int: overall proportion attributable to interaction; pe: overall proportion eliminated)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Relevant variable values: </span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $astar</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $yval</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mval</span></span>
<span><span class="co">## $mval[[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval</span></span>
<span><span class="co">## $basecval[[1]]</span></span>
<span><span class="co">## [1] 0.9967315</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval[[2]]</span></span>
<span><span class="co">## [1] 0.5936</span></span></code></pre>
<p>The results corrected by SIMEX:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_simex_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cmsens.html">cmsens</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">res_naive_cat</span>, sens <span class="op">=</span> <span class="st">"me"</span>, MEmethod <span class="op">=</span> <span class="st">"simex"</span>, </span>
<span>                         MEvariable <span class="op">=</span> <span class="st">"A_error"</span>, MEvartype <span class="op">=</span> <span class="st">"cat"</span>, MEerror <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">mc</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_simex_cat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Sensitivity Analysis For Measurement Error </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## The variable measured with error: A_error</span></span>
<span><span class="co">## Type of the variable measured with error: categorical</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Measurement error 1: </span></span>
<span><span class="co">##      [,1] [,2]</span></span>
<span><span class="co">## [1,]  0.9  0.1</span></span>
<span><span class="co">## [2,]  0.1  0.9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ## Error-corrected regressions for measurement error 1: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ### Outcome regression:</span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## simexreg(reg = getCall(x$sens[[1L]]$reg.output$yreg)$reg, formula = Y ~ </span></span>
<span><span class="co">##     A_error + M + A_error * M + C1 + C2, data = getCall(x$sens[[1L]]$reg.output$yreg)$data, </span></span>
<span><span class="co">##     MEvariable = "A_error", MEvartype = "categorical", MEerror = c(0.9, </span></span>
<span><span class="co">##     0.1, 0.1, 0.9), variance = TRUE, lambda = c(0.5, 1, 1.5, </span></span>
<span><span class="co">##     2), B = 200, weights = getCall(x$sens[[1L]]$reg.output$yreg)$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive coefficient estimates: </span></span>
<span><span class="co">## (Intercept)     A_error           M          C1          C2   A_error:M </span></span>
<span><span class="co">##  -2.5906738  -0.5077290  -1.7374904   0.5036807  -0.6133152   0.5930976 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive var-cov estimates: </span></span>
<span><span class="co">##              (Intercept)       A_error            M            C1            C2</span></span>
<span><span class="co">## (Intercept)  0.074373396 -0.0608915941 -0.054071017 -1.576936e-02 -7.164751e-03</span></span>
<span><span class="co">## A_error     -0.060891594  0.3252487905  0.060788376 -1.130950e-04  5.120972e-04</span></span>
<span><span class="co">## M           -0.054071017  0.0607883762  0.083061875 -8.233291e-03 -2.664520e-03</span></span>
<span><span class="co">## C1          -0.015769362 -0.0001130950 -0.008233291  2.212526e-02 -9.887795e-05</span></span>
<span><span class="co">## C2          -0.007164751  0.0005120972 -0.002664520 -9.887795e-05  2.250262e-02</span></span>
<span><span class="co">## A_error:M    0.062066763 -0.3252496367 -0.079058624 -1.368648e-03 -8.758372e-04</span></span>
<span><span class="co">##                 A_error:M</span></span>
<span><span class="co">## (Intercept)  0.0620667626</span></span>
<span><span class="co">## A_error     -0.3252496367</span></span>
<span><span class="co">## M           -0.0790586237</span></span>
<span><span class="co">## C1          -0.0013686479</span></span>
<span><span class="co">## C2          -0.0008758372</span></span>
<span><span class="co">## A_error:M    0.3534194114</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variable measured with error:</span></span>
<span><span class="co">## A_error</span></span>
<span><span class="co">## Measurement error:</span></span>
<span><span class="co">##     0   1</span></span>
<span><span class="co">## 0 0.9 0.1</span></span>
<span><span class="co">## 1 0.1 0.9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Error-corrected results:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept)  -2.5661     0.2832  -9.062  &lt; 2e-16 ***</span></span>
<span><span class="co">## A_error1     -0.6780     0.7954  -0.852 0.394021    </span></span>
<span><span class="co">## M            -1.7745     0.3169  -5.600 2.20e-08 ***</span></span>
<span><span class="co">## C1            0.5018     0.1490   3.369 0.000758 ***</span></span>
<span><span class="co">## C2           -0.6143     0.1500  -4.095 4.25e-05 ***</span></span>
<span><span class="co">## A_error1:M    0.7843     0.8338   0.941 0.346887    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ### Mediator regressions: </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## simexreg(reg = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$reg, </span></span>
<span><span class="co">##     formula = M ~ A_error + C1 + C2, data = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$data, </span></span>
<span><span class="co">##     MEvariable = "A_error", MEvartype = "categorical", MEerror = c(0.9, </span></span>
<span><span class="co">##     0.1, 0.1, 0.9), variance = TRUE, lambda = c(0.5, 1, 1.5, </span></span>
<span><span class="co">##     2), B = 200, weights = getCall(x$sens[[1L]]$reg.output$mreg[[1L]])$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive coefficient estimates: </span></span>
<span><span class="co">## (Intercept)     A_error          C1          C2 </span></span>
<span><span class="co">##   1.1368565   1.5434255   1.5321997   0.6752983 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Naive var-cov estimates: </span></span>
<span><span class="co">##              (Intercept)       A_error            C1            C2</span></span>
<span><span class="co">## (Intercept)  0.013541986 -0.0044464941 -0.0091359634 -0.0068278415</span></span>
<span><span class="co">## A_error     -0.004446494  0.0171570798 -0.0006625250  0.0001919242</span></span>
<span><span class="co">## C1          -0.009135963 -0.0006625250  0.0141546164  0.0007819793</span></span>
<span><span class="co">## C2          -0.006827841  0.0001919242  0.0007819793  0.0139496499</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Variable measured with error:</span></span>
<span><span class="co">## A_error</span></span>
<span><span class="co">## Measurement error:</span></span>
<span><span class="co">##     0   1</span></span>
<span><span class="co">## 0 0.9 0.1</span></span>
<span><span class="co">## 1 0.1 0.9</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Error-corrected results:</span></span>
<span><span class="co">##             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">## (Intercept)   1.0148     0.1198   8.469  &lt; 2e-16 ***</span></span>
<span><span class="co">## A_error1      1.9697     0.1732  11.375  &lt; 2e-16 ***</span></span>
<span><span class="co">## C1            1.4734     0.1205  12.224  &lt; 2e-16 ***</span></span>
<span><span class="co">## C2            0.6760     0.1197   5.647 1.68e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## ## Error-corrected causal effects on the risk ratio scale for measurement error 1: </span></span>
<span><span class="co">##                Estimate Std.error  95% CIL 95% CIU   P.val   </span></span>
<span><span class="co">## Rcde            1.11217   0.24929  0.71676   1.726 0.63530   </span></span>
<span><span class="co">## Rpnde           0.96233   0.20493  0.63397   1.461 0.85692   </span></span>
<span><span class="co">## Rtnde           1.08560   0.23491  0.71036   1.659 0.70428   </span></span>
<span><span class="co">## Rpnie           0.82427   0.05531  0.72268   0.940 0.00398 **</span></span>
<span><span class="co">## Rtnie           0.92985   0.07288  0.79743   1.084 0.35343   </span></span>
<span><span class="co">## Rte             0.89482   0.17785  0.60611   1.321 0.57608   </span></span>
<span><span class="co">## ERcde           0.08908   0.19471 -0.29255   0.471 0.64731   </span></span>
<span><span class="co">## ERintref       -0.12675   0.11811 -0.35824   0.105 0.28323   </span></span>
<span><span class="co">## ERintmed        0.10822   0.10101 -0.08976   0.306 0.28400   </span></span>
<span><span class="co">## ERpnie         -0.17573   0.05531 -0.28414  -0.067 0.00149 **</span></span>
<span><span class="co">## ERcde(prop)    -0.84697   3.23338 -7.18427   5.490 0.79336   </span></span>
<span><span class="co">## ERintref(prop)  1.20509   2.26066 -3.22572   5.636 0.59399   </span></span>
<span><span class="co">## ERintmed(prop) -1.02896   1.92962 -4.81094   2.753 0.59386   </span></span>
<span><span class="co">## ERpnie(prop)    1.67084   2.92802 -4.06797   7.410 0.56824   </span></span>
<span><span class="co">## pm              0.64188   1.40315 -2.10824   3.392 0.64734   </span></span>
<span><span class="co">## int             0.17613   0.33262 -0.47579   0.828 0.59644   </span></span>
<span><span class="co">## pe              1.84697   3.23338 -4.49033   8.184 0.56785   </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## ----------------------------------------------------------------</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Rcde: controlled direct effect risk ratio; Rpnde: pure natural direct effect risk ratio; Rtnde: total natural direct effect risk ratio; Rpnie: pure natural indirect effect risk ratio; Rtnie: total natural indirect effect risk ratio; Rte: total effect risk ratio; ERcde: excess relative risk due to controlled direct effect; ERintref: excess relative risk due to reference interaction; ERintmed: excess relative risk due to mediated interaction; ERpnie: excess relative risk due to pure natural indirect effect; ERcde(prop): proportion ERcde; ERintref(prop): proportion ERintref; ERintmed(prop): proportion ERintmed; ERpnie(prop): proportion ERpnie; pm: overall proportion mediated; int: overall proportion attributable to interaction; pe: overall proportion eliminated)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Relevant variable values: </span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $astar</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $yval</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mval</span></span>
<span><span class="co">## $mval[[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval</span></span>
<span><span class="co">## $basecval[[1]]</span></span>
<span><span class="co">## [1] 0.9967315</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval[[2]]</span></span>
<span><span class="co">## [1] 0.5936</span></span></code></pre>
<p>Compare the error-corrected results with the true results:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res_true</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cmest.html">cmest</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, model <span class="op">=</span> <span class="st">"rb"</span>, outcome <span class="op">=</span> <span class="st">"Y"</span>, exposure <span class="op">=</span> <span class="st">"A"</span>,</span>
<span>                       mediator <span class="op">=</span> <span class="st">"M"</span>, basec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C1"</span>, <span class="st">"C2"</span><span class="op">)</span>, EMint <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       mreg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"logistic"</span><span class="op">)</span>, yreg <span class="op">=</span> <span class="st">"logistic"</span>,</span>
<span>                       astar <span class="op">=</span> <span class="fl">0</span>, a <span class="op">=</span> <span class="fl">1</span>, mval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>, </span>
<span>                       estimation <span class="op">=</span> <span class="st">"paramfunc"</span>, inference <span class="op">=</span> <span class="st">"delta"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res_true</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Causal Mediation Analysis</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Outcome regression:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## glm(formula = Y ~ A + M + A * M + C1 + C2, family = binomial(), </span></span>
<span><span class="co">##     data = getCall(x$reg.output$yreg)$data, weights = getCall(x$reg.output$yreg)$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">## (Intercept)  -2.5768     0.2611  -9.869  &lt; 2e-16 ***</span></span>
<span><span class="co">## A            -0.8888     0.7581  -1.172 0.241026    </span></span>
<span><span class="co">## M            -1.8429     0.2859  -6.447 1.14e-10 ***</span></span>
<span><span class="co">## C1            0.4970     0.1489   3.337 0.000845 ***</span></span>
<span><span class="co">## C2           -0.6144     0.1500  -4.095 4.22e-05 ***</span></span>
<span><span class="co">## A:M           1.1064     0.7790   1.420 0.155512    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Null deviance: 1858.7  on 9999  degrees of freedom</span></span>
<span><span class="co">## Residual deviance: 1799.2  on 9994  degrees of freedom</span></span>
<span><span class="co">## AIC: 1811.2</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Mediator regressions: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Call:</span></span>
<span><span class="co">## glm(formula = M ~ A + C1 + C2, family = binomial(), data = getCall(x$reg.output$mreg[[1L]])$data, </span></span>
<span><span class="co">##     weights = getCall(x$reg.output$mreg[[1L]])$weights)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Coefficients:</span></span>
<span><span class="co">##             Estimate Std. Error z value Pr(&gt;|z|)    </span></span>
<span><span class="co">## (Intercept)   0.9817     0.1163   8.442  &lt; 2e-16 ***</span></span>
<span><span class="co">## A             2.1466     0.1473  14.574  &lt; 2e-16 ***</span></span>
<span><span class="co">## C1            1.4572     0.1200  12.145  &lt; 2e-16 ***</span></span>
<span><span class="co">## C2            0.6764     0.1193   5.668 1.44e-08 ***</span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Dispersion parameter for binomial family taken to be 1)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     Null deviance: 2825.7  on 9999  degrees of freedom</span></span>
<span><span class="co">## Residual deviance: 2305.6  on 9996  degrees of freedom</span></span>
<span><span class="co">## AIC: 2313.6</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Number of Fisher Scoring iterations: 7</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## # Effect decomposition on the odds ratio scale via the regression-based approach</span></span>
<span><span class="co">##  </span></span>
<span><span class="co">## Closed-form parameter function estimation with </span></span>
<span><span class="co">##  delta method standard errors, confidence intervals and p-values </span></span>
<span><span class="co">##  </span></span>
<span><span class="co">##                 Estimate Std.error   95% CIL 95% CIU    P.val    </span></span>
<span><span class="co">## Rcde             1.24309   0.22291   0.87472   1.767 0.224946    </span></span>
<span><span class="co">## Rpnde            1.01814   0.17635   0.72506   1.430 0.917328    </span></span>
<span><span class="co">## Rtnde            1.20855   0.21018   0.85947   1.699 0.276073    </span></span>
<span><span class="co">## Rpnie            0.80040   0.05419   0.70093   0.914 0.001009 ** </span></span>
<span><span class="co">## Rtnie            0.95009   0.06605   0.82906   1.089 0.461459    </span></span>
<span><span class="co">## Rte              0.96733   0.15543   0.70599   1.325 0.836210    </span></span>
<span><span class="co">## ERcde            0.18777   0.16621  -0.13800   0.514 0.258600    </span></span>
<span><span class="co">## ERintref        -0.16963   0.10003  -0.36569   0.026 0.089947 .  </span></span>
<span><span class="co">## ERintmed         0.14878   0.08790  -0.02351   0.321 0.090547 .  </span></span>
<span><span class="co">## ERpnie          -0.19960   0.05419  -0.30582  -0.093 0.000231 ***</span></span>
<span><span class="co">## ERcde(prop)     -5.74662  32.11420 -68.68930  57.196 0.857982    </span></span>
<span><span class="co">## ERintref(prop)   5.19141  24.66335 -43.14787  53.531 0.833285    </span></span>
<span><span class="co">## ERintmed(prop)  -4.55337  21.62860 -46.94465  37.838 0.833257    </span></span>
<span><span class="co">## ERpnie(prop)     6.10859  29.09367 -50.91396  63.131 0.833697    </span></span>
<span><span class="co">## pm               1.55521   7.88784 -13.90468  17.015 0.843698    </span></span>
<span><span class="co">## int              0.63803   3.03635  -5.31311   6.589 0.833565    </span></span>
<span><span class="co">## pe               6.74662  32.11420 -56.19606  69.689 0.833604    </span></span>
<span><span class="co">## ---</span></span>
<span><span class="co">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## (Rcde: controlled direct effect odds ratio; Rpnde: pure natural direct effect odds ratio; Rtnde: total natural direct effect odds ratio; Rpnie: pure natural indirect effect odds ratio; Rtnie: total natural indirect effect odds ratio; Rte: total effect odds ratio; ERcde: excess relative risk due to controlled direct effect; ERintref: excess relative risk due to reference interaction; ERintmed: excess relative risk due to mediated interaction; ERpnie: excess relative risk due to pure natural indirect effect; ERcde(prop): proportion ERcde; ERintref(prop): proportion ERintref; ERintmed(prop): proportion ERintmed; ERpnie(prop): proportion ERpnie; pm: overall proportion mediated; int: overall proportion attributable to interaction; pe: overall proportion eliminated)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Relevant variable values: </span></span>
<span><span class="co">## $a</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $astar</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $yval</span></span>
<span><span class="co">## [1] "1"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $mval</span></span>
<span><span class="co">## $mval[[1]]</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval</span></span>
<span><span class="co">## $basecval[[1]]</span></span>
<span><span class="co">## [1] 0.9967315</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $basecval[[2]]</span></span>
<span><span class="co">## [1] 0.5936</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Baoyi Shi, Ziqing Wang, Christine Choirat, <a href="https://www.lindavaleri.com/" class="external-link">Linda Valeri</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
