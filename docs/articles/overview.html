<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Overview of Modeling Approaches for Causal Mediation Analysis • CMAverse</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Overview of Modeling Approaches for Causal Mediation Analysis">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CMAverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
<li>
  <a href="../articles/overview.html">Overview of Modeling Approaches</a>
</li>
<li>
  <a href="../articles/quickstart.html">Quickstart</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Examples

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/single_mediator.html">Statistical Modeling with a Single Mediator</a>
    </li>
    <li>
      <a href="../articles/case_control.html">Statistical Modeling for a Case Control Study</a>
    </li>
    <li>
      <a href="../articles/multiple_imputation.html">Statistical Modeling with Missing Data</a>
    </li>
    <li>
      <a href="../articles/post_exposure_confounding.html">Statistical Modeling with Post-exposure Confounding</a>
    </li>
    <li>
      <a href="../articles/measurement_error.html">Sensitivity Analysis for Measurement Error</a>
    </li>
    <li>
      <a href="../articles/time_to_event_mediator.html">Statistical Modeling with Time-to-event Mediators and Competing Risks</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>

    Functions
  </a>
</li>
<li>
  <a href="https://github.com/XiaoniXu/CMAverse/" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    GitHub
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><script src="overview_files/kePrint-0.0.1/kePrint.js"></script><link href="overview_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Overview of Modeling Approaches for Causal
Mediation Analysis</h1>
            
            <h4 data-toc-skip class="date">2025-12-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/XiaoniXu/CMAverse/blob/HEAD/vignettes/overview.Rmd" class="external-link"><code>vignettes/overview.Rmd</code></a></small>
      <div class="hidden name"><code>overview.Rmd</code></div>

    </div>

    
    
<p>This document describes how the six causal mediation analysis
approaches including <em>the regression-based approach</em> by <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3659198/" class="external-link">Valeri et
al. (2013)</a> and <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4287269/" class="external-link">VanderWeele
et al. (2014)</a>, <em>the weighting-based approach</em> by <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4287269/" class="external-link">VanderWeele
et al. (2014)</a>, <em>the inverse odd-ratio weighting approach</em> by
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3954805/" class="external-link">Tchetgen
Tchetgen (2013)</a>, <em>the natural effect model</em> by <a href="https://www.degruyter.com/view/journals/em/1/1/article-p131.xml?language=en" class="external-link">Vansteelandt
et al. (2012)</a>, <em>the marginal structural model</em> by <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5560424/" class="external-link">VanderWeele
et al. (2017)</a>, and <em>the</em>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>-formula
approach by <a href="https://www.sciencedirect.com/science/article/pii/0270025586900886" class="external-link">Robins
(1986)</a> are implemented by the <code>CMAverse</code> package. See
publications of these approaches for methodological details.</p>
<p><code>CMAverse</code> currently supports a single exposure, multiple
sequential mediators and a single outcome. When multiple mediators are
of interest, <code>CMAverse</code> estimates the joint mediated effect
through the set of mediators. <code>CMAverse</code> also supports time
varying confounders preceding the mediators.</p>
<p>We categorize the causal mediation analysis approaches based on
whether the approach can deal with mediator-outcome confounders affected
by the exposure. Among the six approaches, only <em>The marginal
structural model</em> and <em>the</em>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>-formula
approach are able to deal with mediator-outcome confounders affected by
the exposure.</p>
<p>In this document, the outcome and the exposure are denoted as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
respectively. The set of exposure-mediator confounders, exposure-outcome
confounders and mediator-outcome confounders not affected by the
exposure is denoted as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>.
The set of mediators is denoted as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mi>k</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">M=(M_1,...,M_k)</annotation></semantics></math>
follows the temporal order. The set of mediator-outcome confounders
affected by the exposure is denoted as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>L</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>L</mi><mi>s</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">L=(L_1,...,L_s)</annotation></semantics></math>
follows the temporal order.</p>
<p>Since weights calculated from noncategorical variables are unstable,
which hurts the performance of effect estimation and inference, weighted
approaches can be implemented only for categorical exposure and
mediator(s).</p>
<div class="section level2">
<h2 id="no-confounders-affected-by-the-exposure">No Confounders Affected by the Exposure<a class="anchor" aria-label="anchor" href="#no-confounders-affected-by-the-exposure"></a>
</h2>
<div class="section level3">
<h3 id="dag">DAG<a class="anchor" aria-label="anchor" href="#dag"></a>
</h3>
<p><img src="overview_files/figure-html/unnamed-chunk-2-1.png" class="r-plt" width="576"></p>
</div>
<div class="section level3">
<h3 id="estimands">Estimands<a class="anchor" aria-label="anchor" href="#estimands"></a>
</h3>
<p>For a continuous outcome, causal effects are estimated on the
difference scale (summarized in table 1). For a categorical, count, or
survival outcome, causal effects are estimated on the ratio scale
(summarized in table 2). See <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3659198/" class="external-link">Valeri et
al. (2013)</a> and <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4220271/" class="external-link">VanderWeele
(2015)</a> for details about these effects.</p>
<table style="NAborder-bottom: 0; margin-left: auto; margin-right: auto;" class="table table table-bordered table-striped table-hover table-responsive table-condensed">
<caption>
Table 1: Causal Effects on the Difference Scale
</caption>
<thead><tr>
<th style="text-align:left;">
Full Name
</th>
<th style="text-align:left;">
Abbreviation
</th>
<th style="text-align:left;">
Formula
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 20em; ">
Controlled Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}-Y_{a^*m}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Pure Natural Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aM_a^*}-Y_{a^*M_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Natural Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aM_a}-Y_{a^*M_a}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Pure Natural Indirect Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*M_a}-Y_{a^*M_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Natural Indirect Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>a</mi><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aM_a}-Y_{aM_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>+</mo><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE+TNIE</annotation></semantics></math>
or
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>+</mo><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE+PNIE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Reference Interaction
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">INT_{ref}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>−</mo><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE-CDE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Mediated Interaction
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">INT_{med}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>−</mo><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE-PNIE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">INT_{ref}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{INT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">INT_{ref}/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">INT_{med}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{INT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">INT_{med}/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion Mediated
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">PM</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion Attributable to Interaction
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">INT</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>+</mo><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">(INT_{ref}+INT_{med})/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion Eliminated
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>+</mo><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>+</mo><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">(INT_{ref}+INT_{med}+PNIE)/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Residual Disparity
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>D</mi></mrow><annotation encoding="application/x-tex">RD</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<span class="math inline">$P(S_g&amp;gt;s&amp;amp;#124;A=a,C) -
P(S_g&amp;gt;s&amp;amp;#124;A=a^*,C)$</span>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Shifting Distribution Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>D</mi></mrow><annotation encoding="application/x-tex">SD</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<span class="math inline">$P(S_{g'}&amp;gt;s&amp;amp;#124;A=a,C) -
P(S_g&amp;gt;s&amp;amp;#124;A=a,C)$</span>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>a</mi><mo>*</mo></msup><annotation encoding="application/x-tex">a^*</annotation></semantics></math>
are the active and control values for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
respectively.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the value at which
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
is controlled.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>a</mi></msub><annotation encoding="application/x-tex">M_a</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><annotation encoding="application/x-tex">Y_{am}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi><mo>*</mo></mrow></msub><annotation encoding="application/x-tex">Y_{aMa*}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be the counterfactual value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>*</mo></mrow></msub><annotation encoding="application/x-tex">M_{a*}</annotation></semantics></math>.
</td>
</tr>
</tfoot>
</table>
<table style="NAborder-bottom: 0; margin-left: auto; margin-right: auto;" class="table table table-bordered table-striped table-hover table-responsive">
<caption>
Table 2: Causal Effects on the Ratio Scale
</caption>
<thead><tr>
<th style="text-align:left;">
Full Name
</th>
<th style="text-align:left;">
Abbreviation
</th>
<th style="text-align:left;">
Formula
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 20em; ">
Controlled Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]/E[Y_{a^*m}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Pure Natural Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aM_a^*}]/E[Y_{a^*M_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Natural Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aM_a}]/E[Y_{a^*M_a}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Pure Natural Indirect Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*M_a}]/E[Y_{a^*M_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Natural Indirect Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>M</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aM_a}]/E[Y_{aM_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>×</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">R^{PNDE}\times R^{TNIE}</annotation></semantics></math>
or
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>×</mo><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">R^{TNDE}\times R^{PNIE}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Excess Ratio due to Controlled Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">(E[Y_{am}-Y_{a^*m}])/E[Y_{a^*M_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Excess Ratio due to Reference Interaction
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{INT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo>−</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">R^{PNDE}-1-ER^{CDE}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Excess Ratio due to Mediated Interaction
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{INT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>*</mo><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>−</mo><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>−</mo><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">R^{TNIE}*R^{PNDE}-R^{PNDE}-R^{PNIE}+1</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Excess Ratio due to Pure Natural Indirect Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">R^{PNIE}-1</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{ER^{CDE}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{CDE}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{INT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{ER^{INT_{ref}}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{INT_{ref}}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{INT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{ER^{INT_{med}}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{INT_{med}}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{ER^{PNIE}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{PNIE}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion Mediated
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">PM</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>*</mo><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(R^{PNDE}*(R^{TNIE}-1))/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion Attributable to Interaction
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">INT</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup><mo>+</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(ER^{INT_{ref}}+ER^{INT_{med}})/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion Eliminated
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup><mo>+</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup><mo>+</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(ER^{INT_{ref}}+ER^{INT_{med}}+ER^{PNIE})/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>a</mi><mo>*</mo></msup><annotation encoding="application/x-tex">a^*</annotation></semantics></math>
are the active and control values for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
respectively.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the value at which
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
is controlled.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>a</mi></msub><annotation encoding="application/x-tex">M_a</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><annotation encoding="application/x-tex">Y_{am}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi><mo>*</mo></mrow></msub><annotation encoding="application/x-tex">Y_{aMa*}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be the counterfactual value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>*</mo></mrow></msub><annotation encoding="application/x-tex">M_{a*}</annotation></semantics></math>.
If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
is categorical,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y]</annotation></semantics></math>
represents the probability of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">Y=y</annotation></semantics></math>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>
is a pre-specified value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.
</td>
</tr>
</tfoot>
</table>
</div>
<div class="section level3">
<h3 id="the-regression-based-approach">The Regression-based Approach<a class="anchor" aria-label="anchor" href="#the-regression-based-approach"></a>
</h3>
<p>With the regression-based approach, all causal effects are estimated
through either closed-form parameter function estimation or direct
counterfactual imputation estimation. Standard errors of causal effects
are estimated through either the delta method or bootstrapping.</p>
<div class="section level4">
<h4 id="closed-form-parameter-function-estimation">Closed-form Parameter Function Estimation<a class="anchor" aria-label="anchor" href="#closed-form-parameter-function-estimation"></a>
</h4>
<p>Closed-form parameter function estimation is available when there is
only a single mediator, i.e.,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><msub><mi>M</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">M=M_1</annotation></semantics></math>.
Also, <code>yreg</code> must be chosen from <code>linear</code>,
<code>logistic</code>, <code>loglinear</code>, <code>poisson</code>,
<code>quasipoisson</code>, <code>negbin</code>, <code>coxph</code>,
<code>aft_exp</code> and <code>aft_weibull</code>. <code>mreg</code>
must be chosen from <code>linear</code>, <code>logistic</code> and
<code>multinomial</code>. To use <code>yreg = "logistic"</code> and
<code>yreg = "coxph"</code> in closed-form parameter function
estimation, the outcome must be rare. Additionally, the causal effects
estimated through closed-form parameter function estimation are
conditional on the value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>
specified by the <code>basecval</code> argument. Closed-form parameter
functions are summarized below.</p>
<div class="section level5">
<h5 id="linear-yreg-linear-mreg-and-noncategorical-exposure">Linear <code>yreg</code>, Linear <code>mreg</code> and
Noncategorical Exposure<a class="anchor" aria-label="anchor" href="#linear-yreg-linear-mreg-and-noncategorical-exposure"></a>
</h5>
<p>If the exposure is not categorical, <code>yreg="linear"</code> and
<code>mreg=list("linear")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a linear regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[M|A,C]=\beta_0+\beta_1A+\beta_2'C</annotation></semantics></math></p></li>
<li><p>Fit a linear regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>A</mi><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[Y|A,M,C]=\theta_0+\theta_1A+\theta_2M+\theta_3AM+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">CDE=(\theta_1+\theta_3m)(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNDE=\{\theta_1+\theta_3(\beta_0+\beta_1a^*+\beta_2'c)\}(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNDE=\{\theta_1+\theta_3(\beta_0+\beta_1a+\beta_2'c)\}(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><msub><mi>β</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNIE=(\theta_2\beta_1+\theta_3\beta_1a^*)(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><msub><mi>β</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNIE=(\theta_2\beta_1+\theta_3\beta_1a)(a-a^*)</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 1.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="linear-yreg-linear-mreg-and-categorical-exposure">Linear <code>yreg</code>, Linear <code>mreg</code> and Categorical
Exposure<a class="anchor" aria-label="anchor" href="#linear-yreg-linear-mreg-and-categorical-exposure"></a>
</h5>
<p>If the exposure is categorical, <code>yreg="linear"</code> and
<code>mreg=list("linear")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a linear regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[M|A,C]=\beta_0+\sum_{h=1}^H\beta_{1h}I\{A=h\}+\beta_2'C</annotation></semantics></math></p></li>
<li><p>Fit a linear regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[Y|A,M,C]=\theta_0+\sum_{h=1}^H\theta_{1h}I\{A=h\}+\theta_2M+\sum_{h=1}^H\theta_{3h}I\{A=h\}M+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">CDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})m</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNIE=(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\sum_{h=1}^H\beta_{1h}I\{a=h\}-\sum_{h=1}^H\beta_{1h}I\{a^*=h\})</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNIE=(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a=h\})(\sum_{h=1}^H\beta_{1h}I\{a=h\}-\sum_{h=1}^H\beta_{1h}I\{a^*=h\})</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 1.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="linear-yreg-logistic-mreg-and-noncategorical-exposure">Linear <code>yreg</code>, Logistic <code>mreg</code> and
Noncategorical Exposure<a class="anchor" aria-label="anchor" href="#linear-yreg-logistic-mreg-and-noncategorical-exposure"></a>
</h5>
<p>If the exposure is not categorical, <code>yreg="linear"</code> and
<code>mreg=list("logistic")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a logistic regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">logitE[M|A,C]=\beta_0+\beta_1A+\beta_2'C</annotation></semantics></math></p></li>
<li><p>Fit a linear regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>A</mi><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[Y|A,M,C]=\theta_0+\theta_1A+\theta_2M+\theta_3AM+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">CDE=(\theta_1+\theta_3m)(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNDE=\{\theta_1+\theta_3\frac{exp(\beta_0+\beta_1a^*+\beta_2'c)}{1+exp(\beta_0+\beta_1a^*+\beta_2'c)}\}(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNDE=\{\theta_1+\theta_3\frac{exp(\beta_0+\beta_1a+\beta_2'c)}{1+exp(\beta_0+\beta_1a+\beta_2'c)}\}(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNIE=(\theta_2+\theta_3a^*)(\frac{exp(\beta_0+\beta_1a+\beta_2'c)}{1+exp(\beta_0+\beta_1a+\beta_2'c)}-\frac{exp(\beta_0+\beta_1a^*+\beta_2'c)}{1+exp(\beta_0+\beta_1a^*+\beta_2'c)})</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNIE=(\theta_2+\theta_3a)(\frac{exp(\beta_0+\beta_1a+\beta_2'c)}{1+exp(\beta_0+\beta_1a+\beta_2'c)}-\frac{exp(\beta_0+\beta_1a^*+\beta_2'c)}{1+exp(\beta_0+\beta_1a^*+\beta_2'c)})</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 1.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="linear-yreg-logistic-mreg-and-categorical-exposure">Linear <code>yreg</code>, Logistic <code>mreg</code> and Categorical
Exposure<a class="anchor" aria-label="anchor" href="#linear-yreg-logistic-mreg-and-categorical-exposure"></a>
</h5>
<p>If the exposure is categorical, <code>yreg="linear"</code> and
<code>mreg=list("logistic")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a logistic regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">logitE[M|A,C]=\beta_0+\sum_{h=1}^H\beta_{1h}I\{A=h\}+\beta_2'C</annotation></semantics></math></p></li>
<li><p>Fit a linear regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[Y|A,M,C]=\theta_0+\sum_{h=1}^H\theta_{1h}I\{A=h\}+\theta_2M+\sum_{h=1}^H\theta_{3h}I\{A=h\}M+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">CDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})m</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">PNDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})\frac{exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">TNDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})\frac{exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNIE=(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\frac{exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)}-\frac{exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)})</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNIE=(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a=h\})(\frac{exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)}-\frac{exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)})</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 1.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="linear-yreg-multinomial-mreg-and-noncategorical-exposure">Linear <code>yreg</code>, Multinomial <code>mreg</code> and
Noncategorical Exposure<a class="anchor" aria-label="anchor" href="#linear-yreg-multinomial-mreg-and-noncategorical-exposure"></a>
</h5>
<p>If the exposure is not categorical, <code>yreg="linear"</code> and
<code>mreg=list("multinomial")</code>, <code>CMAverse</code> estimates
the causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a multinomial regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mfrac><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow></mfrac><mo>=</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>A</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>C</mi><mo>,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>J</mi></mrow><annotation encoding="application/x-tex">log\frac{E[M=j|A,C]}{E[M=0|A,C]}=\beta_{0j}+\beta_{1j}A+\beta_{2j}'C, j=1,2,...,J</annotation></semantics></math></p></li>
<li><p>Fit a linear regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mi>A</mi><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[Y|A,M,C]=\theta_0+\theta_1A+\sum_{j=1}^J\theta_{2j}I\{M=j\}+A\sum_{j=1}^J\theta_{3j}I\{M=j\}+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">CDE=(\theta_1+\sum_{j=1}^J\theta_{3j}I\{m=j\})(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">PNDE=\{\theta_1+\frac{\sum_{j=1}^J\theta_{3j}exp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}\}(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">TNDE=\{\theta_1+\frac{\sum_{j=1}^J\theta_{3j}exp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)}\}(a-a^*)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">PNIE=\frac{\sum_{j=1}^J(\theta_{2j}+\theta_{3j}a^*)exp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)}-\frac{\sum_{j=1}^J(\theta_{2j}+\theta_{3j}a^*)exp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">TNIE=\frac{\sum_{j=1}^J(\theta_{2j}+\theta_{3j}a)exp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)}-\frac{\sum_{j=1}^J(\theta_{2j}+\theta_{3j}a)exp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 1.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="linear-yreg-multinomial-mreg-and-categorical-exposure">Linear <code>yreg</code>, Multinomial <code>mreg</code> and
Categorical Exposure<a class="anchor" aria-label="anchor" href="#linear-yreg-multinomial-mreg-and-categorical-exposure"></a>
</h5>
<p>If the exposure is categorical, <code>yreg="linear"</code> and
<code>mreg=list("multinomial")</code>, <code>CMAverse</code> estimates
the causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a multinomial regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mfrac><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow></mfrac><mo>=</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>C</mi><mo>,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>J</mi></mrow><annotation encoding="application/x-tex">log\frac{E[M=j|A,C]}{E[M=0|A,C]}=\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{A=h\}+\beta_{2j}'C, j=1,2,...,J</annotation></semantics></math></p></li>
<li><p>Fit a linear regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">E[Y|A,M,C]=\theta_0+\sum_{h=1}^H\theta_{1h}I\{A=h\}+\sum_{j=1}^J\theta_{2j}I\{M=j\}+\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{M=j\}I\{A=h\}+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">CDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{m=j\}I\{a=h\}-\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{m=j\}I\{a^*=h\})</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">PNDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+\frac{\sum_{j=1}^J(\sum_{h=1}^H\theta_{3jh}I\{a=h\}-\sum_{h=1}^H\theta_{3jh}I\{a^*=h\})exp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">TNDE=\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+\frac{\sum_{j=1}^J(\sum_{h=1}^H\theta_{3jh}I\{a=h\}-\sum_{h=1}^H\theta_{3jh}I\{a^*=h\})exp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">PNIE=\frac{\sum_{j=1}^J(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\})exp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)}-\frac{\sum_{j=1}^J(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\})exp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>=</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>−</mo><mfrac><mrow><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">TNIE=\frac{\sum_{j=1}^J(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a=h\})exp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)}-\frac{\sum_{j=1}^J(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a=h\})exp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 1.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="nonlinear-yreg-linear-mreg-and-noncategorical-exposure">Nonlinear <code>yreg</code>, Linear <code>mreg</code> and
Noncategorical Exposure<a class="anchor" aria-label="anchor" href="#nonlinear-yreg-linear-mreg-and-noncategorical-exposure"></a>
</h5>
<p>If the exposure is not categorical, <code>yreg!="linear"</code> and
<code>mreg=list("linear")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a linear regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi><mo>+</mo><msub><mi>ϵ</mi><mi>M</mi></msub><mo>,</mo><msub><mi>ϵ</mi><mi>M</mi></msub><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E[M|A,C]=\beta_0+\beta_1A+\beta_2'C+\epsilon_M,\epsilon_M\sim N(0,\sigma^2)</annotation></semantics></math></p></li>
<li><p>Fit the specified regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>A</mi><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">g(E[Y|A,M,C])=\theta_0+\theta_1A+\theta_2M+\theta_3AM+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{CDE}=exp((\theta_1+\theta_3m)(a-a^*))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>0.5</mn><msubsup><mi>θ</mi><mn>3</mn><mn>2</mn></msubsup><msup><mi>σ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>a</mi><mn>2</mn></msup><mo>−</mo><msup><mi>a</mi><mrow><mi>*</mi><mn>2</mn></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{PNDE}=exp(\{\theta_1+\theta_3(\beta_0+\beta_1a^*+\beta_2'c+\theta_2\sigma^2)\}(a-a^*)+0.5\theta_3^2\sigma^2(a^2-a^{*2}))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>0.5</mn><msubsup><mi>θ</mi><mn>3</mn><mn>2</mn></msubsup><msup><mi>σ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>a</mi><mn>2</mn></msup><mo>−</mo><msup><mi>a</mi><mrow><mi>*</mi><mn>2</mn></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{TNDE}=exp(\{\theta_1+\theta_3(\beta_0+\beta_1a+\beta_2'c+\theta_2\sigma^2)\}(a-a^*)+0.5\theta_3^2\sigma^2(a^2-a^{*2}))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><msub><mi>β</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{PNIE}=exp((\theta_2\beta_1+\theta_3\beta_1a^*)(a-a^*))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><msub><mi>β</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{TNIE}=exp((\theta_2\beta_1+\theta_3\beta_1a)(a-a^*))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>m</mi><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mn>0.5</mn><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{CDE}=(exp(\theta_1(a-a^*)+\theta_3am)-exp(\theta_3a^*m))exp(\theta_2m-(\theta_2+\theta_3a^*)(\beta_0+\beta_1a^*+\beta_2'c)-0.5(\theta_2+\theta_3a^*)^2\sigma^2)</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 2.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="nonlinear-yreg-linear-mreg-and-categorical-exposure">Nonlinear <code>yreg</code>, Linear <code>mreg</code> and
Categorical Exposure<a class="anchor" aria-label="anchor" href="#nonlinear-yreg-linear-mreg-and-categorical-exposure"></a>
</h5>
<p>If the exposure is categorical, <code>yreg!="linear"</code> and
<code>mreg=list("linear")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a linear regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi><mo>+</mo><msub><mi>ϵ</mi><mi>M</mi></msub><mo>,</mo><msub><mi>ϵ</mi><mi>M</mi></msub><mo>∼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E[M|A,C]=\beta_0+\sum_{h=1}^H\beta_{1h}I\{A=h\}+\beta_2'C+\epsilon_M,\epsilon_M\sim N(0,\sigma^2)</annotation></semantics></math></p></li>
<li><p>Fit the specified regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">g(E[Y|A,M,C])=\theta_0+\sum_{h=1}^H\theta_{1h}I\{A=h\}+\theta_2M+\sum_{h=1}^H\theta_{3h}I\{A=h\}M+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{CDE}=exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})m)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>0.5</mn><msup><mi>σ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msubsup><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow><mn>2</mn></msubsup><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msubsup><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow><mn>2</mn></msubsup><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{PNDE}=exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c+\theta_2\sigma^2)+0.5\sigma^2(\sum_{h=1}^H\theta_{3h}^2I\{a=h\}-\sum_{h=1}^H\theta_{3h}^2I\{a^*=h\}))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>0.5</mn><msup><mi>σ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msubsup><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow><mn>2</mn></msubsup><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msubsup><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow><mn>2</mn></msubsup><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{TNDE}=exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c+\theta_2\sigma^2)+0.5\sigma^2(\sum_{h=1}^H\theta_{3h}^2I\{a=h\}-\sum_{h=1}^H\theta_{3h}^2I\{a^*=h\}))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{PNIE}=exp(\theta_2(\sum_{h=1}^H\beta_{1h}I\{a=h\}-\sum_{h=1}^H\beta_{1h}I\{a^*=h\})+\sum_{h=1}^H\theta_{3h}I\{a^*=h\}(\sum_{h=1}^H\beta_{1h}I\{a=h\}-\sum_{h=1}^H\beta_{1h}I\{a^*=h\}))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{TNIE}=exp(\theta_2(\sum_{h=1}^H\beta_{1h}I\{a=h\}-\sum_{h=1}^H\beta_{1h}I\{a^*=h\})+\sum_{h=1}^H\theta_{3h}I\{a=h\}(\sum_{h=1}^H\beta_{1h}I\{a=h\}-\sum_{h=1}^H\beta_{1h}I\{a^*=h\}))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>m</mi><mo>−</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mn>0.5</mn><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{CDE}=(exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+\sum_{h=1}^H\theta_{3h}I\{a=h\}m)-exp(\sum_{h=1}^H\theta_{3h}I\{a^*=h\}m))exp(\theta_2m-(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\})(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)-0.5(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\})^2\sigma^2)</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 2.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="nonlinear-yreg-logistic-mreg-and-noncategorical-exposure">Nonlinear <code>yreg</code>, Logistic <code>mreg</code> and
Noncategorical Exposure<a class="anchor" aria-label="anchor" href="#nonlinear-yreg-logistic-mreg-and-noncategorical-exposure"></a>
</h5>
<p>If the exposure is not categorical, <code>yreg!="linear"</code> and
<code>mreg=list("logistic")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a logistic regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">logitE[M|A,C]=\beta_0+\beta_1A+\beta_2'C</annotation></semantics></math></p></li>
<li><p>Fit the specified regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>A</mi><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">g(E[Y|A,M,C])=\theta_0+\theta_1A+\theta_2M+\theta_3AM+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{CDE}=exp((\theta_1+\theta_3m)(a-a^*))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNDE}=\frac{exp(\theta_1a)\{1+exp(\theta_2+\theta_3a+\beta_0+\beta_1a^*+\beta_2'c)\}}{exp(\theta_1a^*)\{1+exp(\theta_2+\theta_3a^*+\beta_0+\beta_1a^*+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNDE}=\frac{exp(\theta_1a)\{1+exp(\theta_2+\theta_3a+\beta_0+\beta_1a+\beta_2'c)\}}{exp(\theta_1a^*)\{1+exp(\theta_2+\theta_3a^*+\beta_0+\beta_1a+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNIE}=\frac{\{1+exp(\beta_0+\beta_1a^*+\beta_2'c)\}\{1+exp(\theta_2+\theta_3a^*+\beta_0+\beta_1a+\beta_2'c)\}}{\{1+exp(\beta_0+\beta_1a+\beta_2'c)\}\{1+exp(\theta_2+\theta_3a^*+\beta_0+\beta_1a^*+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNIE}=\frac{\{1+exp(\beta_0+\beta_1a^*+\beta_2'c)\}\{1+exp(\theta_2+\theta_3a+\beta_0+\beta_1a+\beta_2'c)\}}{\{1+exp(\beta_0+\beta_1a+\beta_2'c)\}\{1+exp(\theta_2+\theta_3a+\beta_0+\beta_1a^*+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><mi>a</mi><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>3</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">ER^{CDE}=\frac{exp(\theta_2m)(exp(\theta_1(a-a^*)+\theta_3am)-exp(\theta_3a^*m))(1+exp(\beta_0+\beta_1a^*+\beta_2'c))}{1+exp(\beta_0+\beta_1a^*+\beta_2'c+\theta_2+\theta_3a^*)}</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 2.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="nonlinear-yreg-logistic-mreg-and-categorical-exposure">Nonlinear <code>yreg</code>, Logistic <code>mreg</code> and
Categorical Exposure<a class="anchor" aria-label="anchor" href="#nonlinear-yreg-logistic-mreg-and-categorical-exposure"></a>
</h5>
<p>If the exposure is categorical, <code>yreg!="linear"</code> and
<code>mreg=list("logistic")</code>, <code>CMAverse</code> estimates the
causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a logistic regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>t</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">logitE[M|A,C]=\beta_0+\sum_{h=1}^H\beta_{1h}I\{A=h\}+\beta_2'C</annotation></semantics></math></p></li>
<li><p>Fit the specified regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>M</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>M</mi><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">g(E[Y|A,M,C])=\theta_0+\sum_{h=1}^H\theta_{1h}I\{A=h\}+\theta_2M+\sum_{h=1}^H\theta_{3h}I\{A=h\}M+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{CDE}=exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+(\sum_{h=1}^H\theta_{3h}I\{a=h\}-\sum_{h=1}^H\theta_{3h}I\{a^*=h\})m)</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNDE}=\frac{exp(\sum_{h=1}^H\theta_{1h}I\{a=h\})\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)\}}{exp(\sum_{h=1}^H\theta_{1h}I\{a^*=h\})\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNDE}=\frac{exp(\sum_{h=1}^H\theta_{1h}I\{a=h\})\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)\}}{exp(\sum_{h=1}^H\theta_{1h}I\{a^*=h\})\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNIE}=\frac{\{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)\}\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)\}}{\{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)\}\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNIE}=\frac{\{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)\}\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)\}}{\{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a=h\}+\beta_2'c)\}\{1+exp(\theta_2+\sum_{h=1}^H\theta_{3h}I\{a=h\}+\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mi>′</mi><mi>c</mi><mo>+</mo><msub><mi>θ</mi><mn>2</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">ER^{CDE}=\frac{exp(\theta_2m)(exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+\sum_{h=1}^H\theta_{3h}I\{a=h\}m)-exp(\sum_{h=1}^H\theta_{3h}I\{a^*=h\}m))(1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c))}{1+exp(\beta_0+\sum_{h=1}^H\beta_{1h}I\{a^*=h\}+\beta_2'c+\theta_2+\sum_{h=1}^H\theta_{3h}I\{a^*=h\})}</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 2.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="nonlinear-yreg-multinomial-mreg-and-noncategorical-exposure">Nonlinear <code>yreg</code>, Multinomial <code>mreg</code> and
Noncategorical Exposure<a class="anchor" aria-label="anchor" href="#nonlinear-yreg-multinomial-mreg-and-noncategorical-exposure"></a>
</h5>
<p>If the exposure is not categorical, <code>yreg!="linear"</code> and
<code>mreg=list("multinomial")</code>, <code>CMAverse</code> estimates
the causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a multinomial regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mfrac><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow></mfrac><mo>=</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>A</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>C</mi><mo>,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>J</mi></mrow><annotation encoding="application/x-tex">log\frac{E[M=j|A,C]}{E[M=0|A,C]}=\beta_{0j}+\beta_{1j}A+\beta_{2j}'C, j=1,2,...,J</annotation></semantics></math></p></li>
<li><p>Fit the specified regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>A</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><mi>A</mi><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">g(E[Y|A,M,C])=\theta_0+\theta_1A+\sum_{j=1}^J\theta_{2j}I\{M=j\}+A\sum_{j=1}^J\theta_{3j}I\{M=j\}+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{CDE}=exp((\theta_1+\sum_{j=1}^J\theta_{3j}I\{m=j\})(a-a^*))</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNDE}=\frac{exp(\theta_1a)\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a+\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)\}}{exp(\theta_1a^*)\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a^*+\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mi>a</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNDE}=\frac{exp(\theta_1a)\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a+\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)\}}{exp(\theta_1a^*)\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a^*+\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNIE}=\frac{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a^*+\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)\}}{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a^*+\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>a</mi><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNIE}=\frac{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a+\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)\}}{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a+\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mrow><mo stretchy="true" form="prefix">(</mo><mi>a</mi><mo>−</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mi>a</mi><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>a</mi><mo>*</mo></msup><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi></mrow></msub><msup><mi>a</mi><mo>*</mo></msup><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">ER^{CDE}=\frac{exp(\sum_{j=1}^J\theta_{2j}I\{m=j\})(1+\sum_{j=1}^Jexp(\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c))(exp(\theta_1(a-a^*)+a\sum_{j=1}^J\theta_{3j}I\{m=j\})-exp(a^*\sum_{j=1}^J\theta_{3j}I\{m=j\}))}{1+\sum_{j=1}^Jexp(\theta_{2j}+\theta_{3j}a^*+\beta_{0j}+\beta_{1j}a^*+\beta_{2j}'c)}</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 2.</p></li>
</ol>
</div>
<div class="section level5">
<h5 id="nonlinear-yreg-multinomial-mreg-and-categorical-exposure">Nonlinear <code>yreg</code>, Multinomial <code>mreg</code> and
Categorical Exposure<a class="anchor" aria-label="anchor" href="#nonlinear-yreg-multinomial-mreg-and-categorical-exposure"></a>
</h5>
<p>If the exposure is categorical, <code>yreg!="linear"</code> and
<code>mreg=list("multinomial")</code>, <code>CMAverse</code> estimates
the causal effects by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a multinomial regression model for the mediator:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mfrac><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>M</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow></mfrac><mo>=</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>C</mi><mo>,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>J</mi></mrow><annotation encoding="application/x-tex">log\frac{E[M=j|A,C]}{E[M=0|A,C]}=\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{A=h\}+\beta_{2j}'C, j=1,2,...,J</annotation></semantics></math></p></li>
<li><p>Fit the specified regression model for the outcome:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>θ</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></munderover><munderover><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></munderover><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>M</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>A</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>θ</mi><mn>4</mn></msub><mi>′</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">g(E[Y|A,M,C])=\theta_0+\sum_{h=1}^H\theta_{1h}I\{A=h\}+\sum_{j=1}^J\theta_{2j}I\{M=j\}+\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{M=j\}I\{A=h\}+\theta_4'C</annotation></semantics></math></p></li>
<li>
<p>Estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNDE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{PNIE}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TNIE}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
by the following parameter functions:</p>
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>l</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>l</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">R^{CDE}=exp(\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\}+\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{m=l\}I\{a=h\}-\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{m=l\}I\{a^*=h\})</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNDE}=\frac{exp(\sum_{h=1}^H\theta_{1h}I\{a=h\})\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)\}}{exp(\sum_{h=1}^H\theta_{1h}I\{a^*=h\})\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNDE}=\frac{exp(\sum_{h=1}^H\theta_{1h}I\{a=h\})\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)\}}{exp(\sum_{h=1}^H\theta_{1h}I\{a^*=h\})\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{PNIE}=\frac{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)\}}{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow><mrow><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo><mo stretchy="false" form="prefix">{</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="false" form="postfix">}</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^{TNIE}=\frac{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)\}}{\{1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a=h\}+\beta_{2j}'c)\}\{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)\}}</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>−</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>1</mn><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>a</mi><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo>−</mo><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mi>I</mi><mo stretchy="false" form="prefix">{</mo><mi>m</mi><mo>=</mo><mi>j</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mn>1</mn><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>J</mi></msubsup><mi>e</mi><mi>x</mi><mi>p</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>θ</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>θ</mi><mrow><mn>3</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>0</mn><mi>j</mi></mrow></msub><mo>+</mo><msubsup><mo>∑</mo><mrow><mi>h</mi><mo>=</mo><mn>1</mn></mrow><mi>H</mi></msubsup><msub><mi>β</mi><mrow><mn>1</mn><mi>j</mi><mi>h</mi></mrow></msub><mi>I</mi><mo stretchy="false" form="prefix">{</mo><msup><mi>a</mi><mo>*</mo></msup><mo>=</mo><mi>h</mi><mo stretchy="false" form="postfix">}</mo><mo>+</mo><msub><mi>β</mi><mrow><mn>2</mn><mi>j</mi></mrow></msub><mi>′</mi><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">ER^{CDE}=\frac{exp(\sum_{j=1}^J\theta_{2j}I\{m=j\})(1+\sum_{j=1}^Jexp(\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c))(exp((\sum_{h=1}^H\theta_{1h}I\{a=h\}-\sum_{h=1}^H\theta_{1h}I\{a^*=h\})+\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{a=h\}I\{m=j\})-exp(\sum_{j=1}^J\sum_{h=1}^H\theta_{3jh}I\{a^*=h\}I\{m=j\}))}{1+\sum_{j=1}^Jexp(\theta_{2j}+\sum_{h=1}^H\theta_{3jh}I\{a^*=h\}+\beta_{0j}+\sum_{h=1}^H\beta_{1jh}I\{a^*=h\}+\beta_{2j}'c)}</annotation></semantics></math></li>
</ul>
</li>
<li><p>Calculate other effects using formulas in table 2.</p></li>
</ol>
</div>
</div>
<div class="section level4">
<h4 id="direct-counterfactual-imputation-estimation">Direct Counterfactual Imputation Estimation<a class="anchor" aria-label="anchor" href="#direct-counterfactual-imputation-estimation"></a>
</h4>
<p><code>CMAverse</code> conducts direct counterfactual imputation
estimation by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a regression model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,M,C)</annotation></semantics></math>.
This regression model is specified by the <code>yreg</code>
argument.</p></li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>,
fit a regression model for the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_p</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>.
These regression models are specified by the <code>mreg</code>
argument.</p></li>
<li>
<p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
simulate the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a,p,i}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a^*,p,i}</annotation></semantics></math>.</p>
<ul>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a,p,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_{p}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A=a,C=C_i</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">M_{a,i}=(M_{a,1,i},...,M_{a,k,i})^T</annotation></semantics></math>.</li>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a^*,p,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_{p}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A=a^*,C=C_i</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">M_{a^*,i}=(M_{a^*,1,i},...,M_{a^*,k,i})^T</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=m,C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=m,C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=M_{a^*,i},C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=M_{a,i},C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=M_{a^*,i},C=C_i]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=M_{a,i},C=C_i]</annotation></semantics></math>
from the regression model in step 1.</p></li>
<li>
<p>Impute the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma^*}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa^*}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma}]</annotation></semantics></math>.</p>
<ul>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=m,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=m,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=M_{a^*,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=M_{a,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=M_{a^*,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=M_{a,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>Calculate causal effects with formulas in table 1 or table
2.</p></li>
</ol>
</div>
</div>
<div class="section level3">
<h3 id="the-weighting-based-approach">The Weighting-based Approach<a class="anchor" aria-label="anchor" href="#the-weighting-based-approach"></a>
</h3>
<p>With the weighting-based approach, <code>CMAverse</code> estimates
causal effects through direct counterfactual imputation estimation by
the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a regression model for the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,M,C)</annotation></semantics></math>.
This regression model is specified by the <code>yreg</code>
argument.</p></li>
<li><p>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>
is not empty, fit a regression model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(A|C)</annotation></semantics></math>
and obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(A=A_i|C=C_i)</annotation></semantics></math>
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>.
This regression model is specified by the <code>ereg</code>
argument.</p></li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=m,C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=m,C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=M_i,C=C_i]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=M_i,C=C_i]</annotation></semantics></math>
from the regression model in step 1.</p></li>
<li>
<p>Impute the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma^*}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa^*}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma}]</annotation></semantics></math>.</p>
<ul>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=m,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=m,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma^*}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>Y</mi><mi>i</mi></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mi>i</mi><mo>:</mo><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="false" form="postfix">}</mo></mrow></msub></mrow><annotation encoding="application/x-tex">\{Y_i\}_{i\in \{i:A_i=a^*\}}</annotation></semantics></math>,
and each subject i is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>Y</mi><mi>i</mi></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mi>i</mi><mo>:</mo><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><mi>a</mi><mo stretchy="false" form="postfix">}</mo></mrow></msub></mrow><annotation encoding="application/x-tex">\{Y_i\}_{i\in \{i:A_i=a\}}</annotation></semantics></math>,
and each subject i is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa^*}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mi>i</mi><mo>:</mo><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo stretchy="false" form="postfix">}</mo></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=M_i,C=C_i]\}_{i\in \{i:A_i=a^*\}}</annotation></semantics></math>,
and each subject i is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false" form="prefix">{</mo><mi>i</mi><mo>:</mo><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><mi>a</mi><mo stretchy="false" form="postfix">}</mo></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=M_i,C=C_i]\}_{i\in \{i:A_i=a\}}</annotation></semantics></math>,
and each subject i is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>Calculate causal effects with formulas in table 1 or table
2.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="the-inverse-odds-ratio-weighting-approach">The Inverse Odds Ratio Weighting Approach<a class="anchor" aria-label="anchor" href="#the-inverse-odds-ratio-weighting-approach"></a>
</h3>
<p>With the inverse odds ratio weighting approach, <code>CMAverse</code>
estimates causal effects through direct counterfactual imputation
estimation by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a regression model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(A|M,C)</annotation></semantics></math>
and obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=0|M=M_i,C=C_i)}{P(A=A_i|M=M_i,C=C_i)}</annotation></semantics></math>
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>.
This regression model is specified by the <code>ereg</code>
argument.</p></li>
<li><p>Fit a regression model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,C)</annotation></semantics></math>.
This regression model is specified by the <code>yreg</code>
argument.</p></li>
<li><p>Fit a weighted regression model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,C)</annotation></semantics></math>
and each subject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=0|M=M_i,C=C_i)}{P(A=A_i|M=M_i,C=C_i)}</annotation></semantics></math>.
This regression model is obtained by adding the weights to the
regression model in step 2.</p></li>
<li>
<p>Impute the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{tot}[Y_{a}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{tot}[Y_{a^*}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{dir}[Y_{a}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{dir}[Y_{a^*}]</annotation></semantics></math>.</p>
<ul>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{tot}[Y_{a}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>
obtained from the regression model in step 2.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{tot}[Y_{a^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>
obtained from the regression model in step 2.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{dir}[Y_{a}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>
obtained from the regression model in step 3 and each subject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=0|M=M_i,C=C_i)}{P(A=A_i|M=M_i,C=C_i)}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{dir}[Y_{a^*}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>
obtained from the regression model in step 3 and each subject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>
is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><mn>0</mn><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=0|M=M_i,C=C_i)}{P(A=A_i|M=M_i,C=C_i)}</annotation></semantics></math>.</li>
</ul>
</li>
<li><ul>
<li>For a continuous outcome, calculate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TE</annotation></semantics></math>
by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><mo>−</mo><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{tot}[Y_{a}]-E_{tot}[Y_{a^*}]</annotation></semantics></math>,
calculate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>
by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><mo>−</mo><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{dir}[Y_{a}]-E_{dir}[Y_{a^*}]</annotation></semantics></math>
and calculate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>E</mi><mo>−</mo><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TE-PNDE</annotation></semantics></math>.</li>
<li>For a categorical, count or survival outcome, calculate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TE</annotation></semantics></math>
by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><msub><mi>E</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{tot}[Y_{a}]/E_{tot}[Y_{a^*}]</annotation></semantics></math>,
calculate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>
by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>a</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><msub><mi>E</mi><mrow><mi>d</mi><mi>i</mi><mi>r</mi></mrow></msub><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><msup><mi>a</mi><mo>*</mo></msup></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E_{dir}[Y_{a}]/E_{dir}[Y_{a^*}]</annotation></semantics></math>
and calculate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>E</mi><mi>/</mi><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TE/PNDE</annotation></semantics></math>.</li>
</ul></li>
</ol>
</div>
<div class="section level3">
<h3 id="the-natural-effect-model">The Natural Effect Model<a class="anchor" aria-label="anchor" href="#the-natural-effect-model"></a>
</h3>
<p>With the natural effect model, <code>CMAverse</code> estimates causal
effects through direct counterfactual imputation estimation by the
following steps:</p>
<ol style="list-style-type: decimal">
<li><p>Fit a regression model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,M,C)</annotation></semantics></math>.
This regression model is specified by the <code>yreg</code>
argument.</p></li>
<li><p>Expand the dataset using the regression model in step 1 and the
<code>neImpute</code> function in the <code>medflex</code> package. The
expanded dataset gives
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">A0</annotation></semantics></math>
for the direct effect and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">A1</annotation></semantics></math>
for the indirect effect.</p></li>
<li><p>Fit the regression model in step 1 by the expanded dataset in
step 2 with the exposure in the regression formula replaced by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">A0</annotation></semantics></math>
and mediators in the regression formula replaced by
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">A1</annotation></semantics></math>,
i.e.,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>∼</mo><mi>A</mi><mn>0</mn><mo>+</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>A</mi><mn>0</mn><mo>*</mo><mi>A</mi><mn>1</mn><mo>+</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">Y\sim A0+A1+A0*A1+C</annotation></semantics></math>
if the regression formula in step 1 is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>∼</mo><mi>A</mi><mo>+</mo><msub><mi>M</mi><mn>1</mn></msub><mo>+</mo><msub><mi>M</mi><mn>2</mn></msub><mo>+</mo><mi>A</mi><mo>*</mo><msub><mi>M</mi><mn>1</mn></msub><mo>+</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">Y\sim A+M_1+M_2+A*M_1+C</annotation></semantics></math>.</p></li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=m,C=C_i]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=m,C=C_i]</annotation></semantics></math>
from the regression model in step 1; obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A0=a^*,A1=a^*,C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A0=a^*,A1=a,C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A0=a,A1=a^*,C=C_i]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A0=a,A1=a,C=C_i]</annotation></semantics></math>
from the regression model in step 3.</p></li>
<li>
<p>Impute the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma^*}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa^*}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma}]</annotation></semantics></math>.</p>
<ul>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=m,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=m,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A0=a^*,A1=a^*,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A0=a,A1=a,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>M</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aMa^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A0=a,A1=a^*,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>M</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ma}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mn>0</mn><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>A</mi><mn>1</mn><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A0=a^*,A1=a,C=C_i]\}_{i=1,...,n}</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>Calculate causal effects with formulas in table 1 or table
2.</p></li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="confounders-affected-by-the-exposure">Confounders Affected by the exposure<a class="anchor" aria-label="anchor" href="#confounders-affected-by-the-exposure"></a>
</h2>
<div class="section level3">
<h3 id="dag-1">DAG<a class="anchor" aria-label="anchor" href="#dag-1"></a>
</h3>
<p><img src="overview_files/figure-html/unnamed-chunk-5-1.png" class="r-plt" width="576"></p>
</div>
<div class="section level3">
<h3 id="estimands-1">Estimands<a class="anchor" aria-label="anchor" href="#estimands-1"></a>
</h3>
<p>For a continuous outcome, causal effects are estimated on the
difference scale (summarized in table 3). For a categorical, count, or
survival outcome, causal effects are estimated on the ratio scale
(summarized in table 4). Because of the existence of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math>,
some causal effects in table 1 and table 2 are not identifiable.
However, their randomized analogues are still identifiable. See <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4214081/" class="external-link">VanderWeele
et al. (2014)</a> for details about randomized analogues of causal
effects.</p>
<table style="NAborder-bottom: 0; margin-left: auto; margin-right: auto;" class="table table table-bordered table-striped table-hover table-responsive table-condensed">
<caption>
Table 3: Causal Effects on the Difference Scale
</caption>
<thead><tr>
<th style="text-align:left;">
Full Name
</th>
<th style="text-align:left;">
Abbreviation
</th>
<th style="text-align:left;">
Formula
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 20em; ">
Controlled Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}-Y_{a^*m}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aG_{a^*}}-Y_{a^*G_{a^*}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rTNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aG_{a}}-Y_{a^*G_{a}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*G_{a}}-Y_{a^*G_{a^*}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rTNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aG_{a}}-Y_{aG_{a^*}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>+</mo><mi>r</mi><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPNDE+rTNIE</annotation></semantics></math>
or
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>+</mo><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rTNDE+rPNIE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">INT_{ref}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">rINT_{ref}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi><mo>−</mo><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPNDE-CDE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">INT_{med}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">rINT_{med}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo>−</mo><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rTNIE-rPNIE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>D</mi><mi>E</mi><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">CDE/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">rINT_{ref}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{rINT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rINT_{ref}/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">rINT_{med}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{rINT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rINT_{med}/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{rPNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPNIE/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">PM</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">rPM</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rTNIE/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">INT</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">rINT</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>+</mo><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">(rINT_{ref}+rINT_{med})/TE</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mo>+</mo><mi>r</mi><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>+</mo><mi>r</mi><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mi>T</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">(rINT_{ref}+rINT_{med}+rPNIE)/TE</annotation></semantics></math>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>a</mi><mo>*</mo></msup><annotation encoding="application/x-tex">a^*</annotation></semantics></math>
are the active and control values for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the value at which
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
is controlled.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>G</mi><mi>a</mi></msub><annotation encoding="application/x-tex">G_{a}</annotation></semantics></math>
denotes a random draw from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">A=a</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><annotation encoding="application/x-tex">Y_{am}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><mrow><mi>a</mi><mo>*</mo></mrow></msub></mrow></msub><annotation encoding="application/x-tex">Y_{aG_{a*}}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be the counterfactual value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>G</mi><mrow><mi>a</mi><mo>*</mo></mrow></msub><annotation encoding="application/x-tex">G_{a*}</annotation></semantics></math>.
</td>
</tr>
</tfoot>
</table>
<table style="NAborder-bottom: 0; margin-left: auto; margin-right: auto;" class="table table table-bordered table-striped table-hover table-responsive">
<caption>
Table 4: Causal Effects on the Ratio Scale
</caption>
<thead><tr>
<th style="text-align:left;">
Full Name
</th>
<th style="text-align:left;">
Abbreviation
</th>
<th style="text-align:left;">
Formula
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;width: 20em; ">
Controlled Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]/E[Y_{a^*m}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{PNDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aG_{a^*}}]/E[Y_{a^*G_{a^*}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNDE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{TNDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aG_{a}}]/E[Y_{a^*G_{a}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*G_{a}}]/E[Y_{a^*G_{a^*}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">TNIE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{TNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><mi>a</mi></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></msub></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aG_{a}}]/E[Y_{aG_{a^*}}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Total Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><annotation encoding="application/x-tex">R^{TE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>×</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{PNDE}\times rR^{TNIE}</annotation></semantics></math>
or
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>×</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{TNDE}\times rR^{PNIE}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Excess Ratio due to Controlled Direct Effect
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo>−</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><msubsup><mi>M</mi><mi>a</mi><mo>*</mo></msubsup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">(E[Y_{am}-Y_{a^*m}])/E[Y_{a^*M_a^*}]</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{INT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">rER^{INT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo>−</mo><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rR^{PNDE}-1-ER^{CDE}</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{INT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">rER^{INT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>*</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>−</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>−</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">rR^{TNIE}*rR^{PNDE}-rR^{PNDE}-rR^{PNIE}+1</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rER^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">rR^{PNIE}-1</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">ER^{CDE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{ER^{CDE}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><msup><mi>R</mi><mrow><mi>C</mi><mi>D</mi><mi>E</mi></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">ER^{CDE}/(rR^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">rER^{INT_{ref}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{rER^{INT_{ref}}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">rER^{INT_{ref}}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">rER^{INT_{med}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{rER^{INT_{med}}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">rER^{INT_{med}}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Proportion
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow><annotation encoding="application/x-tex">rER^{PNIE}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><msup><mi>p</mi><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup></mrow></msup></mrow><annotation encoding="application/x-tex">prop^{rER^{PNIE}}</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">rER^{PNIE}/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">PM</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">rPM</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>D</mi><mi>E</mi></mrow></msup><mo>*</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><msup><mi>R</mi><mrow><mi>T</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(rR^{PNDE}*(rR^{TNIE}-1))/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">INT</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">rINT</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup><mo>+</mo><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(rER^{INT_{ref}}+rER^{INT_{med}})/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
<tr>
<td style="text-align:left;width: 20em; ">
Randomized Analogue of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">PE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 8em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">rPE</annotation></semantics></math>
</td>
<td style="text-align:left;width: 10em; ">
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow></msup><mo>+</mo><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>I</mi><mi>N</mi><msub><mi>T</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow></msup><mo>+</mo><mi>r</mi><mi>E</mi><msup><mi>R</mi><mrow><mi>P</mi><mi>N</mi><mi>I</mi><mi>E</mi></mrow></msup><mo stretchy="true" form="postfix">)</mo></mrow><mi>/</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>R</mi><mrow><mi>T</mi><mi>E</mi></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">(rER^{INT_{ref}}+rER^{INT_{med}}+rER^{PNIE})/(R^{TE}-1)</annotation></semantics></math>
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;">Note: </span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>a</mi><mo>*</mo></msup><annotation encoding="application/x-tex">a^*</annotation></semantics></math>
are the active and control values for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>
is the value at which
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
is controlled.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>G</mi><mi>a</mi></msub><annotation encoding="application/x-tex">G_{a}</annotation></semantics></math>
denotes a random draw from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
among those with
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">A=a</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><annotation encoding="application/x-tex">Y_{am}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>m</mi><annotation encoding="application/x-tex">m</annotation></semantics></math>.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Y</mi><mrow><mi>a</mi><msub><mi>G</mi><mrow><mi>a</mi><mo>*</mo></mrow></msub></mrow></msub><annotation encoding="application/x-tex">Y_{aG_{a*}}</annotation></semantics></math>
denotes the counterfactual value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
that would have been observed had
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
been set to be
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
to be the counterfactual value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>G</mi><mrow><mi>a</mi><mo>*</mo></mrow></msub><annotation encoding="application/x-tex">G_{a*}</annotation></semantics></math>.
If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>
is categorical,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><mi>Y</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y]</annotation></semantics></math>
represents the probability of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">Y=y</annotation></semantics></math>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>y</mi><annotation encoding="application/x-tex">y</annotation></semantics></math>
is a pre-specified value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Y</mi><annotation encoding="application/x-tex">Y</annotation></semantics></math>.
</td>
</tr>
</tfoot>
</table>
</div>
<div class="section level3">
<h3 id="the-marginal-structural-model">The Marginal Structural Model<a class="anchor" aria-label="anchor" href="#the-marginal-structural-model"></a>
</h3>
<p>With the marginal structural model, <code>CMAverse</code> estimates
causal effects through direct counterfactual imputation estimation by
the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>,
fit the regression model specified by <code>wmnomreg[p]</code> for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>p</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(M_p|A,M_1, ...,M_{p-1})</annotation></semantics></math>
and obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>p</mi></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(M_p=M_{p,i}|A=A_i,M_1=M_{1,i},...,M_{p-1}=M_{p-1,i})</annotation></semantics></math>
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>.</p></li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>,
fit the regression model specified by <code>wmdenomreg[p]</code> for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>p</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><mi>L</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(M_p|A,M_1, ...,M_{p-1},L,C)</annotation></semantics></math>
and obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>p</mi></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(M_p=M_{p,i}|A=A_i,M_1=M_{1,i},...,M_{p-1}=M_{p-1,i},L=L_i,C=C_i)</annotation></semantics></math>
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>.</p></li>
<li><p>If
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>
is not empty, fit the regression model specified by <code>ereg</code>
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(A|C)</annotation></semantics></math>
and obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">P(A=A_i|C=C_i)</annotation></semantics></math>
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>.</p></li>
<li><p>Add weights to the regression model specified by
<code>yreg</code> for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,M)</annotation></semantics></math>
and each subject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i,i=1,...,n</annotation></semantics></math>
is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mi>.</mi><mi>.</mi><mi>.</mi><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>k</mi></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>k</mi></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}\frac{P(M_1=M_{1,i}|A=A_i)}{P(M_1=M_{1,i}|A=A_i,C=C_i,L=L_i)}...\frac{P(M_k=M_{k,i}|A=A_i,M_1=M_{1,i},...,M_{k-1}=M_{k-1,i})}{P(M_k=M_{k,i}|A=A_i,M_1=M_{1,i},...,M_{k-1}=M_{k-1,i},C=C_i,L=L_i)}</annotation></semantics></math>.</p></li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>,
add weights to the regression model specified by <code>mreg[p]</code>
for the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_p</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
and each subject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i,i=1,...,n</annotation></semantics></math>
is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}</annotation></semantics></math>.</p></li>
<li>
<p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
simulate the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a,p,i}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a^*,p,i}</annotation></semantics></math>
from the regression models in step 5.</p>
<ul>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a,p,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_{p}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">A=a</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">M_{a,i}=(M_{a,1,i},...,M_{a,k,i})^T</annotation></semantics></math>.</li>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a^*,p,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_{p}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup></mrow><annotation encoding="application/x-tex">A=a^*</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">M_{a^*,i}=(M_{a^*,1,i},...,M_{a^*,k,i})^T</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=m]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=m]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=M_{a^*,i}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=M_{a,i}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=M_{a^*,i}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=M_{a,i}]</annotation></semantics></math>
from the regression model in step 4.</p></li>
<li>
<p>Impute the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga^*}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa^*}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga}]</annotation></semantics></math>.</p>
<ul>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=m]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=m]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga^*}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=M_{a^*,i}]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=M_{a,i}]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa^*}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=M_{a^*,i}]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga}]</annotation></semantics></math>
by taking a weighted average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=M_{a,i}]\}_{i=1,...,n}</annotation></semantics></math>,</li>
</ul>
<p>each subject
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i,i=1,...,n</annotation></semantics></math>
is given a weight
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mi>.</mi><mi>.</mi><mi>.</mi><mfrac><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>k</mi></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mi>k</mi></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msub><mi>A</mi><mi>i</mi></msub><mo>,</mo><msub><mi>M</mi><mn>1</mn></msub><mo>=</mo><msub><mi>M</mi><mrow><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{P(A=A_i)}{P(A=A_i|C=C_i)}\frac{P(M_1=M_{1,i}|A=A_i)}{P(M_1=M_{1,i}|A=A_i,C=C_i,L=L_i)}...\frac{P(M_k=M_{k,i}|A=A_i,M_1=M_{1,i},...,M_{k-1}=M_{k-1,i})}{P(M_k=M_{k,i}|A=A_i,M_1=M_{1,i},...,M_{k-1}=M_{k-1,i},C=C_i,L=L_i)}</annotation></semantics></math>.</p>
</li>
<li><p>Calculate causal effects with formulas in table 3 or table
4.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="the-g-formula-approach">The g-formula Approach<a class="anchor" aria-label="anchor" href="#the-g-formula-approach"></a>
</h3>
<p>With the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>-formula
approach, <code>CMAverse</code> estimates causal effects through direct
counterfactual imputation estimation by the following steps:</p>
<ol style="list-style-type: decimal">
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">q=1,...,s</annotation></semantics></math>,
fit the regression model specified by <code>postcreg[q]</code> for the
distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mi>q</mi></msub><annotation encoding="application/x-tex">L_q</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>.</p></li>
<li>
<p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">q=1,...,s</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
simulate the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>q</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">L_{a,q,i}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>q</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">L_{a^*,q,i}</annotation></semantics></math>
from the regression models in step 1.</p>
<ul>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>q</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">L_{a,q,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mi>q</mi></msub><annotation encoding="application/x-tex">L_{q}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A=a,C=C_i</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>s</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">L_{a,i}=(L_{a,1,i},...,L_{a,s,i})^T</annotation></semantics></math>.</li>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>q</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">L_{a^*,q,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mi>q</mi></msub><annotation encoding="application/x-tex">L_{q}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A=a^*,C=C_i</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>s</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">L_{a^*,i}=(L_{a^*,1,i},...,L_{a^*,s,i})^T</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>,
fit the regression model specified by <code>mreg[p]</code> for the
distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_p</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>L</mi><annotation encoding="application/x-tex">L</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>C</mi><annotation encoding="application/x-tex">C</annotation></semantics></math>.</p></li>
<li>
<p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">p=1,...,k</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
simulate the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a,p,i}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a^*,p,i}</annotation></semantics></math>
from the regression models in step 3.</p>
<ul>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a,p,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_{p}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A=a,L=L_{a,i},C=C_i</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">M_{a,i}=(M_{a,1,i},...,M_{a,k,i})^T</annotation></semantics></math>.</li>
<li>Simulate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>p</mi><mo>,</mo><mi>i</mi></mrow></msub><annotation encoding="application/x-tex">M_{a^*,p,i}</annotation></semantics></math>
by randomly drawing a value from the distribution of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>M</mi><mi>p</mi></msub><annotation encoding="application/x-tex">M_{p}</annotation></semantics></math>
given
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A=a^*,L=L_{a^*,i},C=C_i</annotation></semantics></math>.
Denote
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mn>1</mn><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>k</mi><mo>,</mo><mi>i</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">M_{a^*,i}=(M_{a^*,1,i},...,M_{a^*,k,i})^T</annotation></semantics></math>.</li>
</ul>
</li>
<li><p>Obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>G</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{G_{a,i}\}_{i=1,...,n}</annotation></semantics></math>
by randomly permuting
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>M</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{M_{a,i}\}_{i=1,...,n}</annotation></semantics></math>
and obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>G</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{G_{a^*,i}\}_{i=1,...,n}</annotation></semantics></math>
by randomly permuting
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>M</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{M_{a^*,i}\}_{i=1,...,n}</annotation></semantics></math>.</p></li>
<li><p>Fit the regression model specified by <code>yreg</code> for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Y</mi><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>,</mo><mi>M</mi><mo>,</mo><mi>L</mi><mo>,</mo><mi>C</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">E(Y|A,M,L,C)</annotation></semantics></math>.</p></li>
<li><p>For
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">i=1,...,n</annotation></semantics></math>,
obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=m,L=L_{a^*,i},C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=m,L=L_{a,i},C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=G_{a^*,i},L=L_{a^*,i},C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a^*,M=G_{a,i},L=L_{a^*,i},C=C_i]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=G_{a^*,i},L=L_{a,i},C=C_i]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_i|A=a,M=G_{a,i},L=L_{a,i},C=C_i]</annotation></semantics></math>
from the regression model in step 5.</p></li>
<li>
<p>Impute the counterfactuals
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga^*}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa}]</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa^*}]</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga}]</annotation></semantics></math>.</p>
<ul>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*m}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=m,L=L_{a^*,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>m</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{am}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><mi>m</mi><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=m,L=L_{a,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=G_{a^*,i},L=L_{a^*,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=G_{a,i},L=L_{a,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><mi>a</mi><mi>G</mi><msup><mi>a</mi><mo>*</mo></msup></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{aGa^*}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><mi>a</mi><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a,M=G_{a^*,i},L=L_{a,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>;</li>
<li>Impute
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mi>G</mi><mi>a</mi></mrow></msub><mo stretchy="true" form="postfix">]</mo></mrow></mrow><annotation encoding="application/x-tex">E[Y_{a^*Ga}]</annotation></semantics></math>
by taking an average of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><mi>E</mi><mrow><mo stretchy="true" form="prefix">[</mo><msub><mi>Y</mi><mi>i</mi></msub><mo stretchy="false" form="prefix">|</mo><mi>A</mi><mo>=</mo><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>M</mi><mo>=</mo><msub><mi>G</mi><mrow><mi>a</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>L</mi><mo>=</mo><msub><mi>L</mi><mrow><msup><mi>a</mi><mo>*</mo></msup><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><mi>C</mi><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">]</mo></mrow><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{E[Y_i|A=a^*,M=G_{a,i},L=L_{a^*,i},C=C_i]\}_{i=1,...,n}</annotation></semantics></math>,</li>
</ul>
</li>
<li><p>Calculate causal effects with formulas in table 3 or table
4.</p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Baoyi Shi, Ziqing Wang, Christine Choirat, <a href="https://www.lindavaleri.com/" class="external-link">Linda Valeri</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
